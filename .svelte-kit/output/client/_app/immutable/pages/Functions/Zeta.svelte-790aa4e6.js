import{S as ji,i as ki,s as ra,a as mr,l as sr,r as ar,K as ea,h as T,c as dr,m as ur,n as gr,u as or,q as Wr,p as Me,b as Y,G as er,P as ft,Q as ct,v as Bn,M as ta,N as Dn,T as na}from"../../chunks/index-cac77216.js";import{f as Tn}from"../../chunks/index-54fd7bcd.js";import{c as ia,g as ai}from"../../chunks/_commonjsHelpers-e864563f.js";function Jt(){return Jt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Jt.apply(this,arguments)}var oi={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Cr(r){return typeof r=="number"}function Yr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function tn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function nn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function an(r){return r&&r.constructor.prototype.isUnit===!0||!1}function ue(r){return typeof r=="string"}var Er=Array.isArray;function Tr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function si(r){return Array.isArray(r)||Tr(r)}function aa(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function oa(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ui(r){return r&&r.constructor.prototype.isRange===!0||!1}function _t(r){return r&&r.constructor.prototype.isIndex===!0||!1}function sa(r){return typeof r=="boolean"}function fi(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function ci(r){return r&&r.constructor.prototype.isHelp===!0||!1}function ua(r){return typeof r=="function"}function fa(r){return r instanceof Date}function ca(r){return r instanceof RegExp}function la(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!tn(r)&&!nn(r))}function ha(r){return r===null}function pa(r){return r===void 0}function va(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function ma(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function da(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function ga(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function wa(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function ya(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function ba(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Na(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function _a(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function li(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ma(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ea(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Sa(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Aa(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function xa(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function hi(r){return r&&r.constructor.prototype.isChain===!0||!1}function de(r){var e=typeof r;return e==="object"?r===null?"null":Array.isArray(r)?"Array":r instanceof Date?"Date":r instanceof RegExp?"RegExp":Yr(r)?"BigNumber":tn(r)?"Complex":nn(r)?"Fraction":Tr(r)?"Matrix":an(r)?"Unit":_t(r)?"Index":ui(r)?"Range":fi(r)?"ResultSet":li(r)?r.type:hi(r)?"Chain":ci(r)?"Help":"Object":e==="function"?"Function":e}function Ir(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return Ir(n)});if(r instanceof Date)return new Date(r.valueOf());if(Yr(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Ca(r,Ir)}function Ca(r,e){var n={};for(var i in r)ke(r,i)&&(n[i]=e(r[i]));return n}function Oa(r,e){for(var n in e)ke(e,n)&&(r[n]=e[n]);return r}function vt(r,e){var n,i,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,t=r.length;i<t;i++)if(!vt(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!vt(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function ke(r,e){return r&&Object.hasOwnProperty.call(r,e)}function za(r,e){for(var n={},i=0;i<e.length;i++){var t=e[i],a=r[t];a!==void 0&&(n[t]=a)}return n}var Fa=["Matrix","Array"],Ia=["number","BigNumber","Fraction"],we=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(oi)};Jt(we,oi,{MATRIX_OPTIONS:Fa,NUMBER_OPTIONS:Ia});var pi={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(ia,function(){function n(){return!0}function i(){return!1}function t(){}function a(){var h=[{name:"number",test:function(E){return typeof E=="number"}},{name:"string",test:function(E){return typeof E=="string"}},{name:"boolean",test:function(E){return typeof E=="boolean"}},{name:"Function",test:function(E){return typeof E=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(E){return E instanceof Date}},{name:"RegExp",test:function(E){return E instanceof RegExp}},{name:"Object",test:function(E){return typeof E=="object"&&E!==null&&E.constructor===Object}},{name:"null",test:function(E){return E===null}},{name:"undefined",test:function(E){return E===void 0}}],p={name:"any",test:n},v=[],d=[],u={types:h,conversions:d,ignore:v};function o(E){var O=zr(u.types,function(C){return C.name===E});if(O)return O;if(E==="any")return p;var z=zr(u.types,function(C){return C.name.toLowerCase()===E.toLowerCase()});throw new TypeError('Unknown type "'+E+'"'+(z?'. Did you mean "'+z.name+'"?':""))}function f(E){return E===p?999:u.types.indexOf(E)}function c(E){var O=zr(u.types,function(z){return z.test(E)});if(O)return O.name;throw new TypeError("Value has unknown type. Value: "+E)}function l(E,O){if(!E.signatures)throw new TypeError("Function is no typed-function");var z;if(typeof O=="string"){z=O.split(",");for(var C=0;C<z.length;C++)z[C]=z[C].trim()}else if(Array.isArray(O))z=O;else throw new TypeError("String array or a comma separated string expected");var U=z.join(","),X=E.signatures[U];if(X)return X;throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+z.join(", ")+"))")}function s(E,O){var z=c(E);if(O===z)return E;for(var C=0;C<u.conversions.length;C++){var U=u.conversions[C];if(U.from===z&&U.to===O)return U.convert(E)}throw new Error("Cannot convert from "+z+" to "+O)}function m(E){return E.map(function(O){var z=O.types.map(S);return(O.restParam?"...":"")+z.join("|")}).join(",")}function g(E,O){var z=E.indexOf("...")===0,C=z?E.length>3?E.slice(3):"any":E,U=C.split("|").map(_r).filter(cr).filter(Nr),X=J(O,U),Q=U.map(function($){var k=o($);return{name:$,typeIndex:f(k),test:k.test,conversion:null,conversionIndex:-1}}),W=X.map(function($){var k=o($.from);return{name:$.from,typeIndex:f(k),test:k.test,conversion:$,conversionIndex:O.indexOf($)}});return{types:Q.concat(W),restParam:z}}function N(E,O,z){var C=[];return E.trim()!==""&&(C=E.split(",").map(_r).map(function(U,X,Q){var W=g(U,z);if(W.restParam&&X!==Q.length-1)throw new SyntaxError('Unexpected rest parameter "'+U+'": only allowed for the last parameter');return W})),C.some(pr)?null:{params:C,fn:O}}function w(E){var O=qr(E);return O?O.restParam:!1}function M(E){return E.types.some(function(O){return O.conversion!=null})}function b(E){if(!E||E.types.length===0)return n;if(E.types.length===1)return o(E.types[0].name).test;if(E.types.length===2){var O=o(E.types[0].name).test,z=o(E.types[1].name).test;return function(X){return O(X)||z(X)}}else{var C=E.types.map(function(U){return o(U.name).test});return function(X){for(var Q=0;Q<C.length;Q++)if(C[Q](X))return!0;return!1}}}function y(E){var O,z,C;if(w(E)){O=hr(E).map(b);var U=O.length,X=b(qr(E)),Q=function(W){for(var $=U;$<W.length;$++)if(!X(W[$]))return!1;return!0};return function($){for(var k=0;k<O.length;k++)if(!O[k]($[k]))return!1;return Q($)&&$.length>=U+1}}else return E.length===0?function($){return $.length===0}:E.length===1?(z=b(E[0]),function($){return z($[0])&&$.length===1}):E.length===2?(z=b(E[0]),C=b(E[1]),function($){return z($[0])&&C($[1])&&$.length===2}):(O=E.map(b),function($){for(var k=0;k<O.length;k++)if(!O[k]($[k]))return!1;return $.length===O.length})}function x(E,O){return O<E.params.length?E.params[O]:w(E.params)?qr(E.params):null}function _(E,O,z){var C=x(E,O),U=C?z?C.types.filter(F):C.types:[];return U.map(S)}function S(E){return E.name}function F(E){return E.conversion===null||E.conversion===void 0}function I(E,O){var z=Qr(Hr(E,function(C){return _(C,O,!1)}));return z.indexOf("any")!==-1?["any"]:z}function D(E,O,z){var C,U,X=E||"unnamed",Q=z,W;for(W=0;W<O.length;W++){var $=Q.filter(function(Rr){var be=b(x(Rr,W));return(W<Rr.params.length||w(Rr.params))&&be(O[W])});if($.length===0){if(U=I(Q,W),U.length>0){var k=c(O[W]);return C=new TypeError("Unexpected type of argument in function "+X+" (expected: "+U.join(" or ")+", actual: "+k+", index: "+W+")"),C.data={category:"wrongType",fn:X,index:W,actual:k,expected:U},C}}else Q=$}var Lr=Q.map(function(Rr){return w(Rr.params)?1/0:Rr.params.length});if(O.length<Math.min.apply(null,Lr))return U=I(Q,W),C=new TypeError("Too few arguments in function "+X+" (expected: "+U.join(" or ")+", index: "+O.length+")"),C.data={category:"tooFewArgs",fn:X,index:O.length,expected:U},C;var Zr=Math.max.apply(null,Lr);return O.length>Zr?(C=new TypeError("Too many arguments in function "+X+" (expected: "+Zr+", actual: "+O.length+")"),C.data={category:"tooManyArgs",fn:X,index:O.length,expectedLength:Zr},C):(C=new TypeError('Arguments of type "'+O.join(", ")+'" do not match any of the defined signatures of function '+X+"."),C.data={category:"mismatch",actual:O.map(c)},C)}function L(E){for(var O=999,z=0;z<E.types.length;z++)F(E.types[z])&&(O=Math.min(O,E.types[z].typeIndex));return O}function q(E){for(var O=999,z=0;z<E.types.length;z++)F(E.types[z])||(O=Math.min(O,E.types[z].conversionIndex));return O}function R(E,O){var z;return z=E.restParam-O.restParam,z!==0||(z=M(E)-M(O),z!==0)||(z=L(E)-L(O),z!==0)?z:q(E)-q(O)}function P(E,O){var z=Math.min(E.params.length,O.params.length),C,U;if(U=E.params.some(M)-O.params.some(M),U!==0)return U;for(C=0;C<z;C++)if(U=M(E.params[C])-M(O.params[C]),U!==0)return U;for(C=0;C<z;C++)if(U=R(E.params[C],O.params[C]),U!==0)return U;return E.params.length-O.params.length}function J(E,O){var z={};return E.forEach(function(C){O.indexOf(C.from)===-1&&O.indexOf(C.to)!==-1&&!z[C.from]&&(z[C.from]=C)}),Object.keys(z).map(function(C){return z[C]})}function V(E,O){var z=O;if(E.some(M)){var C=w(E),U=E.map(H);z=function(){for(var $=[],k=C?arguments.length-1:arguments.length,Lr=0;Lr<k;Lr++)$[Lr]=U[Lr](arguments[Lr]);return C&&($[k]=arguments[k].map(U[k])),O.apply(this,$)}}var X=z;if(w(E)){var Q=E.length-1;X=function(){return z.apply(this,Mr(arguments,0,Q).concat([Mr(arguments,Q)]))}}return X}function H(E){var O,z,C,U,X=[],Q=[];switch(E.types.forEach(function(W){W.conversion&&(X.push(o(W.conversion.from).test),Q.push(W.conversion.convert))}),Q.length){case 0:return function($){return $};case 1:return O=X[0],C=Q[0],function($){return O($)?C($):$};case 2:return O=X[0],z=X[1],C=Q[0],U=Q[1],function($){return O($)?C($):z($)?U($):$};default:return function($){for(var k=0;k<Q.length;k++)if(X[k]($))return Q[k]($);return $}}}function j(E){var O={};return E.forEach(function(z){z.params.some(M)||ir(z.params,!0).forEach(function(C){O[m(C)]=z.fn})}),O}function ir(E,O){function z(C,U,X){if(U<C.length){var Q=C[U],W=O?Q.types.filter(F):Q.types,$;if(Q.restParam){var k=W.filter(F);$=k.length<W.length?[k,W]:[W]}else $=W.map(function(Zr){return[Zr]});return Hr($,function(Zr){return z(C,U+1,X.concat([Zr]))})}else{var Lr=X.map(function(Zr,Rr){return{types:Zr,restParam:Rr===C.length-1&&w(C)}});return[Lr]}}return z(E,0,[])}function fr(E,O){for(var z=Math.max(E.params.length,O.params.length),C=0;C<z;C++){var U=_(E,C,!0),X=_(O,C,!0);if(!xr(U,X))return!1}var Q=E.params.length,W=O.params.length,$=w(E.params),k=w(O.params);return $?k?Q===W:W>=Q:k?Q>=W:Q===W}function tr(E,O){if(Object.keys(O).length===0)throw new SyntaxError("No signatures provided");var z=[];Object.keys(O).map(function(vr){return N(vr,O[vr],u.conversions)}).filter(Br).forEach(function(vr){var Fr=zr(z,function(Ur){return fr(Ur,vr)});if(Fr)throw new TypeError('Conflicting signatures "'+m(Fr.params)+'" and "'+m(vr.params)+'".');z.push(vr)});var C=Hr(z,function(vr){var Fr=vr?ir(vr.params,!1):[];return Fr.map(function(Ur){return{params:Ur,fn:vr.fn}})}).filter(Br);C.sort(P);var U=C[0]&&C[0].params.length<=2&&!w(C[0].params),X=C[1]&&C[1].params.length<=2&&!w(C[1].params),Q=C[2]&&C[2].params.length<=2&&!w(C[2].params),W=C[3]&&C[3].params.length<=2&&!w(C[3].params),$=C[4]&&C[4].params.length<=2&&!w(C[4].params),k=C[5]&&C[5].params.length<=2&&!w(C[5].params),Lr=U&&X&&Q&&W&&$&&k,Zr=C.map(function(vr){return y(vr.params)}),Rr=U?b(C[0].params[0]):i,be=X?b(C[1].params[0]):i,Se=Q?b(C[2].params[0]):i,te=W?b(C[3].params[0]):i,Ne=$?b(C[4].params[0]):i,Ae=k?b(C[5].params[0]):i,xe=U?b(C[0].params[1]):i,Ce=X?b(C[1].params[1]):i,Oe=Q?b(C[2].params[1]):i,ne=W?b(C[3].params[1]):i,ze=$?b(C[4].params[1]):i,ie=k?b(C[5].params[1]):i,Kr=C.map(function(vr){return V(vr.params,vr.fn)}),ae=U?Kr[0]:t,We=X?Kr[1]:t,Fe=Q?Kr[2]:t,et=W?Kr[3]:t,Ie=$?Kr[4]:t,Pe=k?Kr[5]:t,le=U?C[0].params.length:-1,Ye=X?C[1].params.length:-1,Be=Q?C[2].params.length:-1,he=W?C[3].params.length:-1,Je=$?C[4].params.length:-1,De=k?C[5].params.length:-1,kr=Lr?6:0,Xe=C.length,tt=function(){for(var Fr=kr;Fr<Xe;Fr++)if(Zr[Fr](arguments))return Kr[Fr].apply(this,arguments);return u.onMismatch(E,arguments,C)},_e=function vr(Fr,Ur){return arguments.length===le&&Rr(Fr)&&xe(Ur)?ae.apply(vr,arguments):arguments.length===Ye&&be(Fr)&&Ce(Ur)?We.apply(vr,arguments):arguments.length===Be&&Se(Fr)&&Oe(Ur)?Fe.apply(vr,arguments):arguments.length===he&&te(Fr)&&ne(Ur)?et.apply(vr,arguments):arguments.length===Je&&Ne(Fr)&&ze(Ur)?Ie.apply(vr,arguments):arguments.length===De&&Ae(Fr)&&ie(Ur)?Pe.apply(vr,arguments):tt.apply(vr,arguments)};try{Object.defineProperty(_e,"name",{value:E})}catch{}return _e.signatures=j(C),_e}function wr(E,O,z){throw D(E,O,z)}function Nr(E){return u.ignore.indexOf(E)===-1}function _r(E){return E.trim()}function cr(E){return!!E}function Br(E){return E!==null}function pr(E){return E.types.length===0}function hr(E){return E.slice(0,E.length-1)}function qr(E){return E[E.length-1]}function Mr(E,O,z){return Array.prototype.slice.call(E,O,z)}function lr(E,O){return E.indexOf(O)!==-1}function xr(E,O){for(var z=0;z<E.length;z++)if(lr(O,E[z]))return!0;return!1}function zr(E,O){for(var z=0;z<E.length;z++)if(O(E[z]))return E[z]}function Qr(E){for(var O={},z=0;z<E.length;z++)O[E[z]]=!0;return Object.keys(O)}function Hr(E,O){return Array.prototype.concat.apply([],E.map(O))}function Jr(E){for(var O="",z=0;z<E.length;z++){var C=E[z];if((typeof C.signatures=="object"||typeof C.signature=="string")&&C.name!==""){if(O==="")O=C.name;else if(O!==C.name){var U=new Error("Function names do not match (expected: "+O+", actual: "+C.name+")");throw U.data={actual:C.name,expected:O},U}}}return O}function jr(E){var O,z={};function C(W,$){if(z.hasOwnProperty(W)&&$!==z[W])throw O=new Error('Signature "'+W+'" is defined twice'),O.data={signature:W},O}for(var U=0;U<E.length;U++){var X=E[U];if(typeof X.signatures=="object")for(var Q in X.signatures)X.signatures.hasOwnProperty(Q)&&(C(Q,X.signatures[Q]),z[Q]=X.signatures[Q]);else if(typeof X.signature=="string")C(X.signature,X),z[X.signature]=X;else throw O=new TypeError("Function is no typed-function (index: "+U+")"),O.data={index:U},O}return z}return u=tr("typed",{"string, Object":tr,Object:function(E){var O=[];for(var z in E)E.hasOwnProperty(z)&&O.push(E[z]);var C=Jr(O);return tr(C,E)},"...Function":function(E){return tr(Jr(E),jr(E))},"string, ...Function":function(E,O){return tr(E,jr(O))}}),u.create=a,u.types=h,u.conversions=d,u.ignore=v,u.onMismatch=wr,u.throwMismatchError=wr,u.createError=D,u.convert=s,u.find=l,u.addType=function(E,O){if(!E||typeof E.name!="string"||typeof E.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(O!==!1){for(var z=0;z<u.types.length;z++)if(u.types[z].name==="Object"){u.types.splice(z,0,E);return}}u.types.push(E)},u.addConversion=function(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(E)},u}return a()})})(pi);const qn=pi.exports;function Or(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Zt(r,e,n){var i={2:"0b",8:"0o",16:"0x"},t=i[e],a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Or(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Or(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),a="i".concat(n)}var h="";return r<0&&(r=-r,h="-"),"".concat(h).concat(t).concat(r.toString(e)).concat(a)}function Xt(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var n="auto",i,t;if(e&&(e.notation&&(n=e.notation),Cr(e)?i=e:Cr(e.precision)&&(i=e.precision),e.wordSize&&(t=e.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Ba(r,i);case"exponential":return vi(r,i);case"engineering":return Pa(r,i);case"bin":return Zt(r,2,t);case"oct":return Zt(r,8,t);case"hex":return Zt(r,16,t);case"auto":return Da(r,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],h=arguments[4];return a!=="."?a+h:h});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Mt(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],i=e[2],t=parseFloat(e[4]||"0"),a=i.indexOf(".");t+=a!==-1?a-1:i.length-1;var h=i.replace(".","").replace(/^0*/,function(p){return t-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return h.length===0&&(h.push(0),t++),{sign:n,coefficients:h,exponent:t}}function Pa(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Mt(r),i=Et(n,e),t=i.exponent,a=i.coefficients,h=t%3===0?t:t<0?t-3-t%3:t-t%3;if(Cr(e))for(;e>a.length||t-h+1>a.length;)a.push(0);else for(var p=Math.abs(t-h)-(a.length-1),v=0;v<p;v++)a.push(0);for(var d=Math.abs(t-h),u=1;d>0;)u++,d--;var o=a.slice(u).join(""),f=Cr(e)&&o.length||o.match(/[1-9]/)?"."+o:"",c=a.slice(0,u).join("")+f+"e"+(t>=0?"+":"")+h.toString();return i.sign+c}function Ba(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Mt(r),i=typeof e=="number"?Et(n,n.exponent+1+e):n,t=i.coefficients,a=i.exponent+1,h=a+(e||0);return t.length<h&&(t=t.concat(Le(h-t.length))),a<0&&(t=Le(-a+1).concat(t),a=1),a<t.length&&t.splice(a,0,a===0?"0.":"."),i.sign+t.join("")}function vi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Mt(r),i=e?Et(n,e):n,t=i.coefficients,a=i.exponent;t.length<e&&(t=t.concat(Le(e-t.length)));var h=t.shift();return i.sign+h+(t.length>0?"."+t.join(""):"")+"e"+(a>=0?"+":"")+a}function Da(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var i=n&&n.lowerExp!==void 0?n.lowerExp:-3,t=n&&n.upperExp!==void 0?n.upperExp:5,a=Mt(r),h=e?Et(a,e):a;if(h.exponent<i||h.exponent>=t)return vi(r,e);var p=h.coefficients,v=h.exponent;p.length<e&&(p=p.concat(Le(e-p.length))),p=p.concat(Le(v-p.length+1+(p.length<e?e-p.length:0))),p=Le(-v).concat(p);var d=v>0?v:0;return d<p.length-1&&p.splice(d+1,0,"."),h.sign+p.join("")}function Et(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=n.coefficients;e<=0;)i.unshift(0),n.exponent++,e++;if(i.length>e){var t=i.splice(e,i.length-e);if(t[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),n.exponent++,a++),a--,i[a]++}}return n}function Le(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function Ta(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var qa=Number.EPSILON||2220446049250313e-31;function mt(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var i=Math.abs(r-e);return i<qa?!0:i<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function Vt(r,e,n){var i=r.constructor,t=new i(2),a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Or(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),a="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function Ra(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var n="auto",i,t;if(e!==void 0&&(e.notation&&(n=e.notation),typeof e=="number"?i=e:e.precision&&(i=e.precision),e.wordSize&&(t=e.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return $a(r,i);case"exponential":return Rn(r,i);case"engineering":return Ua(r,i);case"bin":return Vt(r,2,t);case"oct":return Vt(r,8,t);case"hex":return Vt(r,16,t);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,h=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var p,v=r.toSignificantDigits(i),d=v.e;return d>=a&&d<h?p=v.toFixed():p=Rn(r,i),p.replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ua(r,e){var n=r.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-i)),a=t.toPrecision(e);return a.indexOf("e")!==-1&&(a=t.toString()),a+"e"+(n>=0?"+":"")+i.toString()}function Rn(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function $a(r,e){return r.toFixed(e)}function Pr(r,e){var n=La(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function La(r,e){if(typeof r=="number")return Xt(r,e);if(Yr(r))return Ra(r,e);if(Za(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return mi(r,e);if(ue(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(i=>'"'+i+'": '+Pr(r[i],e));return"{"+n.join(", ")+"}"}return String(r)}function mi(r,e){if(Array.isArray(r)){for(var n="[",i=r.length,t=0;t<i;t++)t!==0&&(n+=", "),n+=mi(r[t],e);return n+="]",n}else return Pr(r,e)}function Za(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function yr(r,e,n){if(!(this instanceof yr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}yr.prototype=new RangeError;yr.prototype.constructor=RangeError;yr.prototype.name="DimensionError";yr.prototype.isDimensionError=!0;function He(r,e,n){if(!(this instanceof He))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}He.prototype=new RangeError;He.prototype.constructor=RangeError;He.prototype.name="IndexError";He.prototype.isIndexError=!0;function ce(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function di(r,e,n){var i,t=r.length;if(t!==e[n])throw new yr(t,e[n]);if(n<e.length-1){var a=n+1;for(i=0;i<t;i++){var h=r[i];if(!Array.isArray(h))throw new yr(e.length-1,e.length,"<");di(r[i],e,a)}}else for(i=0;i<t;i++)if(Array.isArray(r[i]))throw new yr(e.length+1,e.length,">")}function Un(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new yr(r.length,0)}else di(r,e,0)}function Sr(r,e){if(!Cr(r)||!Or(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new He(r,e)}function Gt(r,e,n){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!Cr(t)||!Or(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Pr(e)+")")});var i=n!==void 0?n:0;return Qt(r,e,0,i),r}function Qt(r,e,n,i){var t,a,h=r.length,p=e[n],v=Math.min(h,p);if(r.length=p,n<e.length-1){var d=n+1;for(t=0;t<v;t++)a=r[t],Array.isArray(a)||(a=[a],r[t]=a),Qt(a,e,d,i);for(t=v;t<p;t++)a=[],r[t]=a,Qt(a,e,d,i)}else{for(t=0;t<v;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=v;t<p;t++)r[t]=i}}function Va(r,e){var n=Wa(r),i=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new yr(0,i,"!=");e=on(e,i);var t=gi(e);if(i!==t)throw new yr(t,i,"!=");try{return Ha(n,e)}catch(a){throw a instanceof yr?new yr(t,i,"!="):a}}function on(r,e){var n=gi(r),i=r.slice(),t=-1,a=r.indexOf(t),h=r.indexOf(t,a+1)>=0;if(h)throw new Error("More than one wildcard in sizes");var p=a>=0,v=e%n===0;if(p)if(v)i[a]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return i}function gi(r){return r.reduce((e,n)=>e*n,1)}function Ha(r,e){for(var n=r,i,t=e.length-1;t>0;t--){var a=e[t];i=[];for(var h=n.length/a,p=0;p<h;p++)i.push(n.slice(p*a,(p+1)*a));n=i}return n}function wi(r,e,n,i){var t=i||ce(r);if(n)for(var a=0;a<n;a++)r=[r],t.unshift(1);for(r=yi(r,e,0);t.length<e;)t.push(1);return r}function yi(r,e,n){var i,t;if(Array.isArray(r)){var a=n+1;for(i=0,t=r.length;i<t;i++)r[i]=yi(r[i],e,a)}else for(var h=n;h<e;h++)r=[r];return r}function Wa(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(i){Array.isArray(i)?i.forEach(n):e.push(i)}),e}function dt(r,e){for(var n,i=0,t=0;t<r.length;t++){var a=r[t],h=Array.isArray(a);if(t===0&&h&&(i=a.length),h&&a.length!==i)return;var p=h?dt(a,e):e(a);if(n===void 0)n=p;else if(n!==p)return"mixed"}return n}function nr(r,e,n,i){function t(a){var h=za(a,e.map(Xa));return Ya(r,e,a),n(h)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),i&&(t.meta=i),t}function Ya(r,e,n){var i=e.filter(a=>!Ja(a)).every(a=>n[a]!==void 0);if(!i){var t=e.filter(a=>n[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Ja(r){return r&&r[0]==="?"}function Xa(r){return r&&r[0]==="?"?r.slice(1):r}function Ga(r,e){if(Ni(r)&&bi(r,e))return r[e];throw typeof r[e]=="function"&&ja(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Qa(r,e,n){if(Ni(r)&&bi(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function Ka(r,e){return e in r}function bi(r,e){return!r||typeof r!="object"?!1:ke(ka,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ja(r,e){return r==null||typeof r[e]!="function"||ke(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ke(ro,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ni(r){return typeof r=="object"&&r&&r.constructor===Object}var ka={length:!0,name:!0},ro={toString:!0,valueOf:!0,toLocaleString:!0};class eo{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Ga(this.wrappedObject,e)}set(e,n){return Qa(this.wrappedObject,e,n),this}has(e){return Ka(this.wrappedObject,e)}}function to(r){return r?r instanceof Map||r instanceof eo||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var _i=function(){return _i=qn.create,qn},no=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],io=nr("typed",no,function(e){var{BigNumber:n,Complex:i,DenseMatrix:t,Fraction:a}=e,h=_i();return h.types=[{name:"number",test:Cr},{name:"Complex",test:tn},{name:"BigNumber",test:Yr},{name:"Fraction",test:nn},{name:"Unit",test:an},{name:"string",test:ue},{name:"Chain",test:hi},{name:"Array",test:Er},{name:"Matrix",test:Tr},{name:"DenseMatrix",test:aa},{name:"SparseMatrix",test:oa},{name:"Range",test:ui},{name:"Index",test:_t},{name:"boolean",test:sa},{name:"ResultSet",test:fi},{name:"Help",test:ci},{name:"function",test:ua},{name:"Date",test:fa},{name:"RegExp",test:ca},{name:"null",test:ha},{name:"undefined",test:pa},{name:"AccessorNode",test:va},{name:"ArrayNode",test:ma},{name:"AssignmentNode",test:da},{name:"BlockNode",test:ga},{name:"ConditionalNode",test:wa},{name:"ConstantNode",test:ya},{name:"FunctionNode",test:Na},{name:"FunctionAssignmentNode",test:ba},{name:"IndexNode",test:_a},{name:"Node",test:li},{name:"ObjectNode",test:Ma},{name:"OperatorNode",test:Ea},{name:"ParenthesisNode",test:Sa},{name:"RangeNode",test:Aa},{name:"SymbolNode",test:xa},{name:"Map",test:to},{name:"Object",test:la}],h.conversions=[{from:"number",to:"BigNumber",convert:function(v){if(n||Ht(v),Ta(v)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+v+"). Use function bignumber(x) to convert to BigNumber.");return new n(v)}},{from:"number",to:"Complex",convert:function(v){return i||lt(v),new i(v,0)}},{from:"number",to:"string",convert:function(v){return v+""}},{from:"BigNumber",to:"Complex",convert:function(v){return i||lt(v),new i(v.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(v){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(v){return i||lt(v),new i(v.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(v){a||Wt(v);var d=new a(v);if(d.valueOf()!==v)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+v+"). Use function fraction(x) to convert to Fraction.");return d}},{from:"string",to:"number",convert:function(v){var d=Number(v);if(isNaN(d))throw new Error('Cannot convert "'+v+'" to a number');return d}},{from:"string",to:"BigNumber",convert:function(v){n||Ht(v);try{return new n(v)}catch{throw new Error('Cannot convert "'+v+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(v){a||Wt(v);try{return new a(v)}catch{throw new Error('Cannot convert "'+v+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(v){i||lt(v);try{return new i(v)}catch{throw new Error('Cannot convert "'+v+'" to Complex')}}},{from:"boolean",to:"number",convert:function(v){return+v}},{from:"boolean",to:"BigNumber",convert:function(v){return n||Ht(v),new n(+v)}},{from:"boolean",to:"Fraction",convert:function(v){return a||Wt(v),new a(+v)}},{from:"boolean",to:"string",convert:function(v){return String(v)}},{from:"Array",to:"Matrix",convert:function(v){return t||ao(),new t(v)}},{from:"Matrix",to:"Array",convert:function(v){return v.valueOf()}}],h});function Ht(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function lt(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function ao(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Wt(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var $e=9e15,ye=1e9,Kt="0123456789abcdef",gt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",jt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-$e,maxE:$e,crypto:!1},Mi,fe,rr=!0,St="[DecimalError] ",ge=St+"Invalid argument: ",Ei=St+"Precision limit exceeded",Si=St+"crypto unavailable",Ai="[object Decimal]",Vr=Math.floor,Dr=Math.pow,oo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,so=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,uo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,xi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ee=1e7,K=7,fo=9007199254740991,co=gt.length-1,kt=wt.length-1,B={toStringTag:Ai};B.absoluteValue=B.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),G(r)};B.ceil=function(){return G(new this.constructor(this),this.e+1,2)};B.clampedTo=B.clamp=function(r,e){var n,i=this,t=i.constructor;if(r=new t(r),e=new t(e),!r.s||!e.s)return new t(NaN);if(r.gt(e))throw Error(ge+e);return n=i.cmp(r),n<0?r:i.cmp(e)>0?e:new t(i)};B.comparedTo=B.cmp=function(r){var e,n,i,t,a=this,h=a.d,p=(r=new a.constructor(r)).d,v=a.s,d=r.s;if(!h||!p)return!v||!d?NaN:v!==d?v:h===p?0:!h^v<0?1:-1;if(!h[0]||!p[0])return h[0]?v:p[0]?-d:0;if(v!==d)return v;if(a.e!==r.e)return a.e>r.e^v<0?1:-1;for(i=h.length,t=p.length,e=0,n=i<t?i:t;e<n;++e)if(h[e]!==p[e])return h[e]>p[e]^v<0?1:-1;return i===t?0:i>t^v<0?1:-1};B.cosine=B.cos=function(){var r,e,n=this,i=n.constructor;return n.d?n.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(n.e,n.sd())+K,i.rounding=1,n=lo(i,Ii(i,n)),i.precision=r,i.rounding=e,G(fe==2||fe==3?n.neg():n,r,e,!0)):new i(1):new i(NaN)};B.cubeRoot=B.cbrt=function(){var r,e,n,i,t,a,h,p,v,d,u=this,o=u.constructor;if(!u.isFinite()||u.isZero())return new o(u);for(rr=!1,a=u.s*Dr(u.s*u,1/3),!a||Math.abs(a)==1/0?(n=$r(u.d),r=u.e,(a=(r-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=Dr(n,1/3),r=Vr((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?n="5e"+r:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),i=new o(n),i.s=u.s):i=new o(a.toString()),h=(r=o.precision)+3;;)if(p=i,v=p.times(p).times(p),d=v.plus(u),i=br(d.plus(u).times(p),d.plus(v),h+2,1),$r(p.d).slice(0,h)===(n=$r(i.d)).slice(0,h))if(n=n.slice(h-3,h+1),n=="9999"||!t&&n=="4999"){if(!t&&(G(p,r+1,0),p.times(p).times(p).eq(u))){i=p;break}h+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(G(i,r+1,1),e=!i.times(i).times(i).eq(u));break}return rr=!0,G(i,r,o.rounding,e)};B.decimalPlaces=B.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-Vr(this.e/K))*K,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};B.dividedBy=B.div=function(r){return br(this,new this.constructor(r))};B.dividedToIntegerBy=B.divToInt=function(r){var e=this,n=e.constructor;return G(br(e,new n(r),0,1,1),n.precision,n.rounding)};B.equals=B.eq=function(r){return this.cmp(r)===0};B.floor=function(){return G(new this.constructor(this),this.e+1,3)};B.greaterThan=B.gt=function(r){return this.cmp(r)>0};B.greaterThanOrEqualTo=B.gte=function(r){var e=this.cmp(r);return e==1||e===0};B.hyperbolicCosine=B.cosh=function(){var r,e,n,i,t,a=this,h=a.constructor,p=new h(1);if(!a.isFinite())return new h(a.s?1/0:NaN);if(a.isZero())return p;n=h.precision,i=h.rounding,h.precision=n+Math.max(a.e,a.sd())+4,h.rounding=1,t=a.d.length,t<32?(r=Math.ceil(t/3),e=(1/xt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Ze(h,1,a.times(e),new h(1),!0);for(var v,d=r,u=new h(8);d--;)v=a.times(a),a=p.minus(v.times(u.minus(v.times(u))));return G(a,h.precision=n,h.rounding=i,!0)};B.hyperbolicSine=B.sinh=function(){var r,e,n,i,t=this,a=t.constructor;if(!t.isFinite()||t.isZero())return new a(t);if(e=a.precision,n=a.rounding,a.precision=e+Math.max(t.e,t.sd())+4,a.rounding=1,i=t.d.length,i<3)t=Ze(a,2,t,t,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,t=t.times(1/xt(5,r)),t=Ze(a,2,t,t,!0);for(var h,p=new a(5),v=new a(16),d=new a(20);r--;)h=t.times(t),t=t.times(p.plus(h.times(v.times(h).plus(d))))}return a.precision=e,a.rounding=n,G(t,e,n,!0)};B.hyperbolicTangent=B.tanh=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,br(n.sinh(),n.cosh(),i.precision=r,i.rounding=e)):new i(n.s)};B.inverseCosine=B.acos=function(){var r,e=this,n=e.constructor,i=e.abs().cmp(1),t=n.precision,a=n.rounding;return i!==-1?i===0?e.isNeg()?re(n,t,a):new n(0):new n(NaN):e.isZero()?re(n,t+4,a).times(.5):(n.precision=t+6,n.rounding=1,e=e.asin(),r=re(n,t+4,a).times(.5),n.precision=t,n.rounding=a,r.minus(e))};B.inverseHyperbolicCosine=B.acosh=function(){var r,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,rr=!1,n=n.times(n).minus(1).sqrt().plus(n),rr=!0,i.precision=r,i.rounding=e,n.ln()):new i(n)};B.inverseHyperbolicSine=B.asinh=function(){var r,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,rr=!1,n=n.times(n).plus(1).sqrt().plus(n),rr=!0,i.precision=r,i.rounding=e,n.ln())};B.inverseHyperbolicTangent=B.atanh=function(){var r,e,n,i,t=this,a=t.constructor;return t.isFinite()?t.e>=0?new a(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(r=a.precision,e=a.rounding,i=t.sd(),Math.max(i,r)<2*-t.e-1?G(new a(t),r,e,!0):(a.precision=n=i-t.e,t=br(t.plus(1),new a(1).minus(t),n+r,1),a.precision=r+4,a.rounding=1,t=t.ln(),a.precision=r,a.rounding=e,t.times(.5))):new a(NaN)};B.inverseSine=B.asin=function(){var r,e,n,i,t=this,a=t.constructor;return t.isZero()?new a(t):(e=t.abs().cmp(1),n=a.precision,i=a.rounding,e!==-1?e===0?(r=re(a,n+4,i).times(.5),r.s=t.s,r):new a(NaN):(a.precision=n+6,a.rounding=1,t=t.div(new a(1).minus(t.times(t)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=i,t.times(2)))};B.inverseTangent=B.atan=function(){var r,e,n,i,t,a,h,p,v,d=this,u=d.constructor,o=u.precision,f=u.rounding;if(d.isFinite()){if(d.isZero())return new u(d);if(d.abs().eq(1)&&o+4<=kt)return h=re(u,o+4,f).times(.25),h.s=d.s,h}else{if(!d.s)return new u(NaN);if(o+4<=kt)return h=re(u,o+4,f).times(.5),h.s=d.s,h}for(u.precision=p=o+10,u.rounding=1,n=Math.min(28,p/K+2|0),r=n;r;--r)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(rr=!1,e=Math.ceil(p/K),i=1,v=d.times(d),h=new u(d),t=d;r!==-1;)if(t=t.times(v),a=h.minus(t.div(i+=2)),t=t.times(v),h=a.plus(t.div(i+=2)),h.d[e]!==void 0)for(r=e;h.d[r]===a.d[r]&&r--;);return n&&(h=h.times(2<<n-1)),rr=!0,G(h,u.precision=o,u.rounding=f,!0)};B.isFinite=function(){return!!this.d};B.isInteger=B.isInt=function(){return!!this.d&&Vr(this.e/K)>this.d.length-2};B.isNaN=function(){return!this.s};B.isNegative=B.isNeg=function(){return this.s<0};B.isPositive=B.isPos=function(){return this.s>0};B.isZero=function(){return!!this.d&&this.d[0]===0};B.lessThan=B.lt=function(r){return this.cmp(r)<0};B.lessThanOrEqualTo=B.lte=function(r){return this.cmp(r)<1};B.logarithm=B.log=function(r){var e,n,i,t,a,h,p,v,d=this,u=d.constructor,o=u.precision,f=u.rounding,c=5;if(r==null)r=new u(10),e=!0;else{if(r=new u(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new u(NaN);e=r.eq(10)}if(n=d.d,d.s<0||!n||!n[0]||d.eq(1))return new u(n&&!n[0]?-1/0:d.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)a=!0;else{for(t=n[0];t%10===0;)t/=10;a=t!==1}if(rr=!1,p=o+c,h=me(d,p),i=e?yt(u,p+10):me(r,p),v=br(h,i,p,1),rt(v.d,t=o,f))do if(p+=10,h=me(d,p),i=e?yt(u,p+10):me(r,p),v=br(h,i,p,1),!a){+$r(v.d).slice(t+1,t+15)+1==1e14&&(v=G(v,o+1,0));break}while(rt(v.d,t+=10,f));return rr=!0,G(v,o,f)};B.minus=B.sub=function(r){var e,n,i,t,a,h,p,v,d,u,o,f,c=this,l=c.constructor;if(r=new l(r),!c.d||!r.d)return!c.s||!r.s?r=new l(NaN):c.d?r.s=-r.s:r=new l(r.d||c.s!==r.s?c:NaN),r;if(c.s!=r.s)return r.s=-r.s,c.plus(r);if(d=c.d,f=r.d,p=l.precision,v=l.rounding,!d[0]||!f[0]){if(f[0])r.s=-r.s;else if(d[0])r=new l(c);else return new l(v===3?-0:0);return rr?G(r,p,v):r}if(n=Vr(r.e/K),u=Vr(c.e/K),d=d.slice(),a=u-n,a){for(o=a<0,o?(e=d,a=-a,h=f.length):(e=f,n=u,h=d.length),i=Math.max(Math.ceil(p/K),h)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=d.length,h=f.length,o=i<h,o&&(h=i),i=0;i<h;i++)if(d[i]!=f[i]){o=d[i]<f[i];break}a=0}for(o&&(e=d,d=f,f=e,r.s=-r.s),h=d.length,i=f.length-h;i>0;--i)d[h++]=0;for(i=f.length;i>a;){if(d[--i]<f[i]){for(t=i;t&&d[--t]===0;)d[t]=ee-1;--d[t],d[i]+=ee}d[i]-=f[i]}for(;d[--h]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(r.d=d,r.e=At(d,n),rr?G(r,p,v):r):new l(v===3?-0:0)};B.modulo=B.mod=function(r){var e,n=this,i=n.constructor;return r=new i(r),!n.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||n.d&&!n.d[0]?G(new i(n),i.precision,i.rounding):(rr=!1,i.modulo==9?(e=br(n,r.abs(),0,3,1),e.s*=r.s):e=br(n,r,0,i.modulo,1),e=e.times(r),rr=!0,n.minus(e))};B.naturalExponential=B.exp=function(){return rn(this)};B.naturalLogarithm=B.ln=function(){return me(this)};B.negated=B.neg=function(){var r=new this.constructor(this);return r.s=-r.s,G(r)};B.plus=B.add=function(r){var e,n,i,t,a,h,p,v,d,u,o=this,f=o.constructor;if(r=new f(r),!o.d||!r.d)return!o.s||!r.s?r=new f(NaN):o.d||(r=new f(r.d||o.s===r.s?o:NaN)),r;if(o.s!=r.s)return r.s=-r.s,o.minus(r);if(d=o.d,u=r.d,p=f.precision,v=f.rounding,!d[0]||!u[0])return u[0]||(r=new f(o)),rr?G(r,p,v):r;if(a=Vr(o.e/K),i=Vr(r.e/K),d=d.slice(),t=a-i,t){for(t<0?(n=d,t=-t,h=u.length):(n=u,i=a,h=d.length),a=Math.ceil(p/K),h=a>h?a+1:h+1,t>h&&(t=h,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(h=d.length,t=u.length,h-t<0&&(t=h,n=u,u=d,d=n),e=0;t;)e=(d[--t]=d[t]+u[t]+e)/ee|0,d[t]%=ee;for(e&&(d.unshift(e),++i),h=d.length;d[--h]==0;)d.pop();return r.d=d,r.e=At(d,i),rr?G(r,p,v):r};B.precision=B.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(ge+r);return n.d?(e=Ci(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};B.round=function(){var r=this,e=r.constructor;return G(new e(r),r.e+1,e.rounding)};B.sine=B.sin=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+Math.max(n.e,n.sd())+K,i.rounding=1,n=po(i,Ii(i,n)),i.precision=r,i.rounding=e,G(fe>2?n.neg():n,r,e,!0)):new i(NaN)};B.squareRoot=B.sqrt=function(){var r,e,n,i,t,a,h=this,p=h.d,v=h.e,d=h.s,u=h.constructor;if(d!==1||!p||!p[0])return new u(!d||d<0&&(!p||p[0])?NaN:p?h:1/0);for(rr=!1,d=Math.sqrt(+h),d==0||d==1/0?(e=$r(p),(e.length+v)%2==0&&(e+="0"),d=Math.sqrt(e),v=Vr((v+1)/2)-(v<0||v%2),d==1/0?e="5e"+v:(e=d.toExponential(),e=e.slice(0,e.indexOf("e")+1)+v),i=new u(e)):i=new u(d.toString()),n=(v=u.precision)+3;;)if(a=i,i=a.plus(br(h,a,n+2,1)).times(.5),$r(a.d).slice(0,n)===(e=$r(i.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!t&&e=="4999"){if(!t&&(G(a,v+1,0),a.times(a).eq(h))){i=a;break}n+=4,t=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(G(i,v+1,1),r=!i.times(i).eq(h));break}return rr=!0,G(i,v,u.rounding,r)};B.tangent=B.tan=function(){var r,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,n=n.sin(),n.s=1,n=br(n,new i(1).minus(n.times(n)).sqrt(),r+10,0),i.precision=r,i.rounding=e,G(fe==2||fe==4?n.neg():n,r,e,!0)):new i(NaN)};B.times=B.mul=function(r){var e,n,i,t,a,h,p,v,d,u=this,o=u.constructor,f=u.d,c=(r=new o(r)).d;if(r.s*=u.s,!f||!f[0]||!c||!c[0])return new o(!r.s||f&&!f[0]&&!c||c&&!c[0]&&!f?NaN:!f||!c?r.s/0:r.s*0);for(n=Vr(u.e/K)+Vr(r.e/K),v=f.length,d=c.length,v<d&&(a=f,f=c,c=a,h=v,v=d,d=h),a=[],h=v+d,i=h;i--;)a.push(0);for(i=d;--i>=0;){for(e=0,t=v+i;t>i;)p=a[t]+c[i]*f[t-i-1]+e,a[t--]=p%ee|0,e=p/ee|0;a[t]=(a[t]+e)%ee|0}for(;!a[--h];)a.pop();return e?++n:a.shift(),r.d=a,r.e=At(a,n),rr?G(r,o.precision,o.rounding):r};B.toBinary=function(r,e){return sn(this,2,r,e)};B.toDecimalPlaces=B.toDP=function(r,e){var n=this,i=n.constructor;return n=new i(n),r===void 0?n:(Gr(r,0,ye),e===void 0?e=i.rounding:Gr(e,0,8),G(n,r+n.e+1,e))};B.toExponential=function(r,e){var n,i=this,t=i.constructor;return r===void 0?n=oe(i,!0):(Gr(r,0,ye),e===void 0?e=t.rounding:Gr(e,0,8),i=G(new t(i),r+1,e),n=oe(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+n:n};B.toFixed=function(r,e){var n,i,t=this,a=t.constructor;return r===void 0?n=oe(t):(Gr(r,0,ye),e===void 0?e=a.rounding:Gr(e,0,8),i=G(new a(t),r+t.e+1,e),n=oe(i,!1,r+i.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};B.toFraction=function(r){var e,n,i,t,a,h,p,v,d,u,o,f,c=this,l=c.d,s=c.constructor;if(!l)return new s(c);if(d=n=new s(1),i=v=new s(0),e=new s(i),a=e.e=Ci(l)-c.e-1,h=a%K,e.d[0]=Dr(10,h<0?K+h:h),r==null)r=a>0?e:d;else{if(p=new s(r),!p.isInt()||p.lt(d))throw Error(ge+p);r=p.gt(e)?a>0?e:d:p}for(rr=!1,p=new s($r(l)),u=s.precision,s.precision=a=l.length*K*2;o=br(p,e,0,1,1),t=n.plus(o.times(i)),t.cmp(r)!=1;)n=i,i=t,t=d,d=v.plus(o.times(t)),v=t,t=e,e=p.minus(o.times(t)),p=t;return t=br(r.minus(n),i,0,1,1),v=v.plus(t.times(d)),n=n.plus(t.times(i)),v.s=d.s=c.s,f=br(d,i,a,1).minus(c).abs().cmp(br(v,n,a,1).minus(c).abs())<1?[d,i]:[v,n],s.precision=u,rr=!0,f};B.toHexadecimal=B.toHex=function(r,e){return sn(this,16,r,e)};B.toNearest=function(r,e){var n=this,i=n.constructor;if(n=new i(n),r==null){if(!n.d)return n;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Gr(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(rr=!1,n=br(n,r,0,e,1).times(r),rr=!0,G(n)):(r.s=n.s,n=r),n};B.toNumber=function(){return+this};B.toOctal=function(r,e){return sn(this,8,r,e)};B.toPower=B.pow=function(r){var e,n,i,t,a,h,p=this,v=p.constructor,d=+(r=new v(r));if(!p.d||!r.d||!p.d[0]||!r.d[0])return new v(Dr(+p,d));if(p=new v(p),p.eq(1))return p;if(i=v.precision,a=v.rounding,r.eq(1))return G(p,i,a);if(e=Vr(r.e/K),e>=r.d.length-1&&(n=d<0?-d:d)<=fo)return t=Oi(v,p,n,i),r.s<0?new v(1).div(t):G(t,i,a);if(h=p.s,h<0){if(e<r.d.length-1)return new v(NaN);if((r.d[e]&1)==0&&(h=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=h,p}return n=Dr(+p,d),e=n==0||!isFinite(n)?Vr(d*(Math.log("0."+$r(p.d))/Math.LN10+p.e+1)):new v(n+"").e,e>v.maxE+1||e<v.minE-1?new v(e>0?h/0:0):(rr=!1,v.rounding=p.s=1,n=Math.min(12,(e+"").length),t=rn(r.times(me(p,i+n)),i),t.d&&(t=G(t,i+5,1),rt(t.d,i,a)&&(e=i+10,t=G(rn(r.times(me(p,e+n)),e),e+5,1),+$r(t.d).slice(i+1,i+15)+1==1e14&&(t=G(t,i+1,0)))),t.s=h,rr=!0,v.rounding=a,G(t,i,a))};B.toPrecision=function(r,e){var n,i=this,t=i.constructor;return r===void 0?n=oe(i,i.e<=t.toExpNeg||i.e>=t.toExpPos):(Gr(r,1,ye),e===void 0?e=t.rounding:Gr(e,0,8),i=G(new t(i),r,e),n=oe(i,r<=i.e||i.e<=t.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+n:n};B.toSignificantDigits=B.toSD=function(r,e){var n=this,i=n.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Gr(r,1,ye),e===void 0?e=i.rounding:Gr(e,0,8)),G(new i(n),r,e)};B.toString=function(){var r=this,e=r.constructor,n=oe(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};B.truncated=B.trunc=function(){return G(new this.constructor(this),this.e+1,1)};B.valueOf=B.toJSON=function(){var r=this,e=r.constructor,n=oe(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function $r(r){var e,n,i,t=r.length-1,a="",h=r[0];if(t>0){for(a+=h,e=1;e<t;e++)i=r[e]+"",n=K-i.length,n&&(a+=ve(n)),a+=i;h=r[e],i=h+"",n=K-i.length,n&&(a+=ve(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return a+h}function Gr(r,e,n){if(r!==~~r||r<e||r>n)throw Error(ge+r)}function rt(r,e,n,i){var t,a,h,p;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=K,t=0):(t=Math.ceil((e+1)/K),e%=K),a=Dr(10,K-e),p=r[t]%a|0,i==null?e<3?(e==0?p=p/100|0:e==1&&(p=p/10|0),h=n<4&&p==99999||n>3&&p==49999||p==5e4||p==0):h=(n<4&&p+1==a||n>3&&p+1==a/2)&&(r[t+1]/a/100|0)==Dr(10,e-2)-1||(p==a/2||p==0)&&(r[t+1]/a/100|0)==0:e<4?(e==0?p=p/1e3|0:e==1?p=p/100|0:e==2&&(p=p/10|0),h=(i||n<4)&&p==9999||!i&&n>3&&p==4999):h=((i||n<4)&&p+1==a||!i&&n>3&&p+1==a/2)&&(r[t+1]/a/1e3|0)==Dr(10,e-3)-1,h}function pt(r,e,n){for(var i,t=[0],a,h=0,p=r.length;h<p;){for(a=t.length;a--;)t[a]*=e;for(t[0]+=Kt.indexOf(r.charAt(h++)),i=0;i<t.length;i++)t[i]>n-1&&(t[i+1]===void 0&&(t[i+1]=0),t[i+1]+=t[i]/n|0,t[i]%=n)}return t.reverse()}function lo(r,e){var n,i,t;if(e.isZero())return e;i=e.d.length,i<32?(n=Math.ceil(i/3),t=(1/xt(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),r.precision+=n,e=Ze(r,1,e.times(t),new r(1));for(var a=n;a--;){var h=e.times(e);e=h.times(h).minus(h).times(8).plus(1)}return r.precision-=n,e}var br=function(){function r(i,t,a){var h,p=0,v=i.length;for(i=i.slice();v--;)h=i[v]*t+p,i[v]=h%a|0,p=h/a|0;return p&&i.unshift(p),i}function e(i,t,a,h){var p,v;if(a!=h)v=a>h?1:-1;else for(p=v=0;p<a;p++)if(i[p]!=t[p]){v=i[p]>t[p]?1:-1;break}return v}function n(i,t,a,h){for(var p=0;a--;)i[a]-=p,p=i[a]<t[a]?1:0,i[a]=p*h+i[a]-t[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,t,a,h,p,v){var d,u,o,f,c,l,s,m,g,N,w,M,b,y,x,_,S,F,I,D,L=i.constructor,q=i.s==t.s?1:-1,R=i.d,P=t.d;if(!R||!R[0]||!P||!P[0])return new L(!i.s||!t.s||(R?P&&R[0]==P[0]:!P)?NaN:R&&R[0]==0||!P?q*0:q/0);for(v?(c=1,u=i.e-t.e):(v=ee,c=K,u=Vr(i.e/c)-Vr(t.e/c)),I=P.length,S=R.length,g=new L(q),N=g.d=[],o=0;P[o]==(R[o]||0);o++);if(P[o]>(R[o]||0)&&u--,a==null?(y=a=L.precision,h=L.rounding):p?y=a+(i.e-t.e)+1:y=a,y<0)N.push(1),l=!0;else{if(y=y/c+2|0,o=0,I==1){for(f=0,P=P[0],y++;(o<S||f)&&y--;o++)x=f*v+(R[o]||0),N[o]=x/P|0,f=x%P|0;l=f||o<S}else{for(f=v/(P[0]+1)|0,f>1&&(P=r(P,f,v),R=r(R,f,v),I=P.length,S=R.length),_=I,w=R.slice(0,I),M=w.length;M<I;)w[M++]=0;D=P.slice(),D.unshift(0),F=P[0],P[1]>=v/2&&++F;do f=0,d=e(P,w,I,M),d<0?(b=w[0],I!=M&&(b=b*v+(w[1]||0)),f=b/F|0,f>1?(f>=v&&(f=v-1),s=r(P,f,v),m=s.length,M=w.length,d=e(s,w,m,M),d==1&&(f--,n(s,I<m?D:P,m,v))):(f==0&&(d=f=1),s=P.slice()),m=s.length,m<M&&s.unshift(0),n(w,s,M,v),d==-1&&(M=w.length,d=e(P,w,I,M),d<1&&(f++,n(w,I<M?D:P,M,v))),M=w.length):d===0&&(f++,w=[0]),N[o++]=f,d&&w[0]?w[M++]=R[_]||0:(w=[R[_]],M=1);while((_++<S||w[0]!==void 0)&&y--);l=w[0]!==void 0}N[0]||N.shift()}if(c==1)g.e=u,Mi=l;else{for(o=1,f=N[0];f>=10;f/=10)o++;g.e=o+u*c-1,G(g,p?a+g.e+1:a,h,l)}return g}}();function G(r,e,n,i){var t,a,h,p,v,d,u,o,f,c=r.constructor;r:if(e!=null){if(o=r.d,!o)return r;for(t=1,p=o[0];p>=10;p/=10)t++;if(a=e-t,a<0)a+=K,h=e,u=o[f=0],v=u/Dr(10,t-h-1)%10|0;else if(f=Math.ceil((a+1)/K),p=o.length,f>=p)if(i){for(;p++<=f;)o.push(0);u=v=0,t=1,a%=K,h=a-K+1}else break r;else{for(u=p=o[f],t=1;p>=10;p/=10)t++;a%=K,h=a-K+t,v=h<0?0:u/Dr(10,t-h-1)%10|0}if(i=i||e<0||o[f+1]!==void 0||(h<0?u:u%Dr(10,t-h-1)),d=n<4?(v||i)&&(n==0||n==(r.s<0?3:2)):v>5||v==5&&(n==4||i||n==6&&(a>0?h>0?u/Dr(10,t-h):0:o[f-1])%10&1||n==(r.s<0?8:7)),e<1||!o[0])return o.length=0,d?(e-=r.e+1,o[0]=Dr(10,(K-e%K)%K),r.e=-e||0):o[0]=r.e=0,r;if(a==0?(o.length=f,p=1,f--):(o.length=f+1,p=Dr(10,K-a),o[f]=h>0?(u/Dr(10,t-h)%Dr(10,h)|0)*p:0),d)for(;;)if(f==0){for(a=1,h=o[0];h>=10;h/=10)a++;for(h=o[0]+=p,p=1;h>=10;h/=10)p++;a!=p&&(r.e++,o[0]==ee&&(o[0]=1));break}else{if(o[f]+=p,o[f]!=ee)break;o[f--]=0,p=1}for(a=o.length;o[--a]===0;)o.pop()}return rr&&(r.e>c.maxE?(r.d=null,r.e=NaN):r.e<c.minE&&(r.e=0,r.d=[0])),r}function oe(r,e,n){if(!r.isFinite())return Fi(r);var i,t=r.e,a=$r(r.d),h=a.length;return e?(n&&(i=n-h)>0?a=a.charAt(0)+"."+a.slice(1)+ve(i):h>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):t<0?(a="0."+ve(-t-1)+a,n&&(i=n-h)>0&&(a+=ve(i))):t>=h?(a+=ve(t+1-h),n&&(i=n-t-1)>0&&(a=a+"."+ve(i))):((i=t+1)<h&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-h)>0&&(t+1===h&&(a+="."),a+=ve(i))),a}function At(r,e){var n=r[0];for(e*=K;n>=10;n/=10)e++;return e}function yt(r,e,n){if(e>co)throw rr=!0,n&&(r.precision=n),Error(Ei);return G(new r(gt),e,1,!0)}function re(r,e,n){if(e>kt)throw Error(Ei);return G(new r(wt),e,n,!0)}function Ci(r){var e=r.length-1,n=e*K+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function ve(r){for(var e="";r--;)e+="0";return e}function Oi(r,e,n,i){var t,a=new r(1),h=Math.ceil(i/K+4);for(rr=!1;;){if(n%2&&(a=a.times(e),Ln(a.d,h)&&(t=!0)),n=Vr(n/2),n===0){n=a.d.length-1,t&&a.d[n]===0&&++a.d[n];break}e=e.times(e),Ln(e.d,h)}return rr=!0,a}function $n(r){return r.d[r.d.length-1]&1}function zi(r,e,n){for(var i,t=new r(e[0]),a=0;++a<e.length;)if(i=new r(e[a]),i.s)t[n](i)&&(t=i);else{t=i;break}return t}function rn(r,e){var n,i,t,a,h,p,v,d=0,u=0,o=0,f=r.constructor,c=f.rounding,l=f.precision;if(!r.d||!r.d[0]||r.e>17)return new f(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(rr=!1,v=l):v=e,p=new f(.03125);r.e>-2;)r=r.times(p),o+=5;for(i=Math.log(Dr(2,o))/Math.LN10*2+5|0,v+=i,n=a=h=new f(1),f.precision=v;;){if(a=G(a.times(r),v,1),n=n.times(++u),p=h.plus(br(a,n,v,1)),$r(p.d).slice(0,v)===$r(h.d).slice(0,v)){for(t=o;t--;)h=G(h.times(h),v,1);if(e==null)if(d<3&&rt(h.d,v-i,c,d))f.precision=v+=10,n=a=p=new f(1),u=0,d++;else return G(h,f.precision=l,c,rr=!0);else return f.precision=l,h}h=p}}function me(r,e){var n,i,t,a,h,p,v,d,u,o,f,c=1,l=10,s=r,m=s.d,g=s.constructor,N=g.rounding,w=g.precision;if(s.s<0||!m||!m[0]||!s.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:s.s!=1?NaN:m?0:s);if(e==null?(rr=!1,u=w):u=e,g.precision=u+=l,n=$r(m),i=n.charAt(0),Math.abs(a=s.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)s=s.times(r),n=$r(s.d),i=n.charAt(0),c++;a=s.e,i>1?(s=new g("0."+n),a++):s=new g(i+"."+n.slice(1))}else return d=yt(g,u+2,w).times(a+""),s=me(new g(i+"."+n.slice(1)),u-l).plus(d),g.precision=w,e==null?G(s,w,N,rr=!0):s;for(o=s,v=h=s=br(s.minus(1),s.plus(1),u,1),f=G(s.times(s),u,1),t=3;;){if(h=G(h.times(f),u,1),d=v.plus(br(h,new g(t),u,1)),$r(d.d).slice(0,u)===$r(v.d).slice(0,u))if(v=v.times(2),a!==0&&(v=v.plus(yt(g,u+2,w).times(a+""))),v=br(v,new g(c),u,1),e==null)if(rt(v.d,u-l,N,p))g.precision=u+=l,d=h=s=br(o.minus(1),o.plus(1),u,1),f=G(s.times(s),u,1),t=p=1;else return G(v,g.precision=w,N,rr=!0);else return g.precision=w,v;v=d,t+=2}}function Fi(r){return String(r.s*r.s/0)}function en(r,e){var n,i,t;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;i++);for(t=e.length;e.charCodeAt(t-1)===48;--t);if(e=e.slice(i,t),e){if(t-=i,r.e=n=n-i-1,r.d=[],i=(n+1)%K,n<0&&(i+=K),i<t){for(i&&r.d.push(+e.slice(0,i)),t-=K;i<t;)r.d.push(+e.slice(i,i+=K));e=e.slice(i),i=K-e.length}else i-=t;for(;i--;)e+="0";r.d.push(+e),rr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function ho(r,e){var n,i,t,a,h,p,v,d,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),xi.test(e))return en(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(so.test(e))n=16,e=e.toLowerCase();else if(oo.test(e))n=2;else if(uo.test(e))n=8;else throw Error(ge+e);for(a=e.search(/p/i),a>0?(v=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),h=a>=0,i=r.constructor,h&&(e=e.replace(".",""),p=e.length,a=p-a,t=Oi(i,new i(n),a,a*2)),d=pt(e,n,ee),u=d.length-1,a=u;d[a]===0;--a)d.pop();return a<0?new i(r.s*0):(r.e=At(d,u),r.d=d,rr=!1,h&&(r=br(r,t,p*4)),v&&(r=r.times(Math.abs(v)<54?Dr(2,v):Ve.pow(2,v))),rr=!0,r)}function po(r,e){var n,i=e.d.length;if(i<3)return e.isZero()?e:Ze(r,2,e,e);n=1.4*Math.sqrt(i),n=n>16?16:n|0,e=e.times(1/xt(5,n)),e=Ze(r,2,e,e);for(var t,a=new r(5),h=new r(16),p=new r(20);n--;)t=e.times(e),e=e.times(a.plus(t.times(h.times(t).minus(p))));return e}function Ze(r,e,n,i,t){var a,h,p,v,d=r.precision,u=Math.ceil(d/K);for(rr=!1,v=n.times(n),p=new r(i);;){if(h=br(p.times(v),new r(e++*e++),d,1),p=t?i.plus(h):i.minus(h),i=br(h.times(v),new r(e++*e++),d,1),h=p.plus(i),h.d[u]!==void 0){for(a=u;h.d[a]===p.d[a]&&a--;);if(a==-1)break}a=p,p=i,i=h,h=a}return rr=!0,h.d.length=u+1,h}function xt(r,e){for(var n=r;--e;)n*=r;return n}function Ii(r,e){var n,i=e.s<0,t=re(r,r.precision,1),a=t.times(.5);if(e=e.abs(),e.lte(a))return fe=i?4:1,e;if(n=e.divToInt(t),n.isZero())fe=i?3:2;else{if(e=e.minus(n.times(t)),e.lte(a))return fe=$n(n)?i?2:3:i?4:1,e;fe=$n(n)?i?1:4:i?3:2}return e.minus(t).abs()}function sn(r,e,n,i){var t,a,h,p,v,d,u,o,f,c=r.constructor,l=n!==void 0;if(l?(Gr(n,1,ye),i===void 0?i=c.rounding:Gr(i,0,8)):(n=c.precision,i=c.rounding),!r.isFinite())u=Fi(r);else{for(u=oe(r),h=u.indexOf("."),l?(t=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):t=e,h>=0&&(u=u.replace(".",""),f=new c(1),f.e=u.length-h,f.d=pt(oe(f),10,t),f.e=f.d.length),o=pt(u,10,t),a=v=o.length;o[--v]==0;)o.pop();if(!o[0])u=l?"0p+0":"0";else{if(h<0?a--:(r=new c(r),r.d=o,r.e=a,r=br(r,f,n,i,0,t),o=r.d,a=r.e,d=Mi),h=o[n],p=t/2,d=d||o[n+1]!==void 0,d=i<4?(h!==void 0||d)&&(i===0||i===(r.s<0?3:2)):h>p||h===p&&(i===4||d||i===6&&o[n-1]&1||i===(r.s<0?8:7)),o.length=n,d)for(;++o[--n]>t-1;)o[n]=0,n||(++a,o.unshift(1));for(v=o.length;!o[v-1];--v);for(h=0,u="";h<v;h++)u+=Kt.charAt(o[h]);if(l){if(v>1)if(e==16||e==8){for(h=e==16?4:3,--v;v%h;v++)u+="0";for(o=pt(u,t,e),v=o.length;!o[v-1];--v);for(h=1,u="1.";h<v;h++)u+=Kt.charAt(o[h])}else u=u.charAt(0)+"."+u.slice(1);u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>v)for(a-=v;a--;)u+="0";else a<v&&(u=u.slice(0,a)+"."+u.slice(a))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return r.s<0?"-"+u:u}function Ln(r,e){if(r.length>e)return r.length=e,!0}function vo(r){return new this(r).abs()}function mo(r){return new this(r).acos()}function go(r){return new this(r).acosh()}function wo(r,e){return new this(r).plus(e)}function yo(r){return new this(r).asin()}function bo(r){return new this(r).asinh()}function No(r){return new this(r).atan()}function _o(r){return new this(r).atanh()}function Mo(r,e){r=new this(r),e=new this(e);var n,i=this.precision,t=this.rounding,a=i+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=re(this,a,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?re(this,i,t):new this(0),n.s=r.s):!r.d||e.isZero()?(n=re(this,a,1).times(.5),n.s=r.s):e.s<0?(this.precision=a,this.rounding=1,n=this.atan(br(r,e,a,1)),e=re(this,a,1),this.precision=i,this.rounding=t,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(br(r,e,a,1)),n}function Eo(r){return new this(r).cbrt()}function So(r){return G(r=new this(r),r.e+1,2)}function Ao(r,e,n){return new this(r).clamp(e,n)}function xo(r){if(!r||typeof r!="object")throw Error(St+"Object expected");var e,n,i,t=r.defaults===!0,a=["precision",1,ye,"rounding",0,8,"toExpNeg",-$e,0,"toExpPos",0,$e,"maxE",0,$e,"minE",-$e,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(n=a[e],t&&(this[n]=jt[n]),(i=r[n])!==void 0)if(Vr(i)===i&&i>=a[e+1]&&i<=a[e+2])this[n]=i;else throw Error(ge+n+": "+i);if(n="crypto",t&&(this[n]=jt[n]),(i=r[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Si);else this[n]=!1;else throw Error(ge+n+": "+i);return this}function Co(r){return new this(r).cos()}function Oo(r){return new this(r).cosh()}function Pi(r){var e,n,i;function t(a){var h,p,v,d=this;if(!(d instanceof t))return new t(a);if(d.constructor=t,Zn(a)){d.s=a.s,rr?!a.d||a.e>t.maxE?(d.e=NaN,d.d=null):a.e<t.minE?(d.e=0,d.d=[0]):(d.e=a.e,d.d=a.d.slice()):(d.e=a.e,d.d=a.d?a.d.slice():a.d);return}if(v=typeof a,v==="number"){if(a===0){d.s=1/a<0?-1:1,d.e=0,d.d=[0];return}if(a<0?(a=-a,d.s=-1):d.s=1,a===~~a&&a<1e7){for(h=0,p=a;p>=10;p/=10)h++;rr?h>t.maxE?(d.e=NaN,d.d=null):h<t.minE?(d.e=0,d.d=[0]):(d.e=h,d.d=[a]):(d.e=h,d.d=[a]);return}else if(a*0!==0){a||(d.s=NaN),d.e=NaN,d.d=null;return}return en(d,a.toString())}else if(v!=="string")throw Error(ge+a);return(p=a.charCodeAt(0))===45?(a=a.slice(1),d.s=-1):(p===43&&(a=a.slice(1)),d.s=1),xi.test(a)?en(d,a):ho(d,a)}if(t.prototype=B,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=xo,t.clone=Pi,t.isDecimal=Zn,t.abs=vo,t.acos=mo,t.acosh=go,t.add=wo,t.asin=yo,t.asinh=bo,t.atan=No,t.atanh=_o,t.atan2=Mo,t.cbrt=Eo,t.ceil=So,t.clamp=Ao,t.cos=Co,t.cosh=Oo,t.div=zo,t.exp=Fo,t.floor=Io,t.hypot=Po,t.ln=Bo,t.log=Do,t.log10=qo,t.log2=To,t.max=Ro,t.min=Uo,t.mod=$o,t.mul=Lo,t.pow=Zo,t.random=Vo,t.round=Ho,t.sign=Wo,t.sin=Yo,t.sinh=Jo,t.sqrt=Xo,t.sub=Go,t.sum=Qo,t.tan=Ko,t.tanh=jo,t.trunc=ko,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(n=i[e++])||(r[n]=this[n]);return t.config(r),t}function zo(r,e){return new this(r).div(e)}function Fo(r){return new this(r).exp()}function Io(r){return G(r=new this(r),r.e+1,3)}function Po(){var r,e,n=new this(0);for(rr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return rr=!0,new this(1/0);n=e}return rr=!0,n.sqrt()}function Zn(r){return r instanceof Ve||r&&r.toStringTag===Ai||!1}function Bo(r){return new this(r).ln()}function Do(r,e){return new this(r).log(e)}function To(r){return new this(r).log(2)}function qo(r){return new this(r).log(10)}function Ro(){return zi(this,arguments,"lt")}function Uo(){return zi(this,arguments,"gt")}function $o(r,e){return new this(r).mod(e)}function Lo(r,e){return new this(r).mul(e)}function Zo(r,e){return new this(r).pow(e)}function Vo(r){var e,n,i,t,a=0,h=new this(1),p=[];if(r===void 0?r=this.precision:Gr(r,1,ye),i=Math.ceil(r/K),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)t=e[a],t>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:p[a++]=t%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)t=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(e,a):(p.push(t%1e7),a+=4);a=i/4}else throw Error(Si);else for(;a<i;)p[a++]=Math.random()*1e7|0;for(i=p[--a],r%=K,i&&r&&(t=Dr(10,K-r),p[a]=(i/t|0)*t);p[a]===0;a--)p.pop();if(a<0)n=0,p=[0];else{for(n=-1;p[0]===0;n-=K)p.shift();for(i=1,t=p[0];t>=10;t/=10)i++;i<K&&(n-=K-i)}return h.e=n,h.d=p,h}function Ho(r){return G(r=new this(r),r.e+1,this.rounding)}function Wo(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Yo(r){return new this(r).sin()}function Jo(r){return new this(r).sinh()}function Xo(r){return new this(r).sqrt()}function Go(r,e){return new this(r).sub(e)}function Qo(){var r=0,e=arguments,n=new this(e[r]);for(rr=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return rr=!0,G(n,this.precision,this.rounding)}function Ko(r){return new this(r).tan()}function jo(r){return new this(r).tanh()}function ko(r){return G(r=new this(r),r.e+1,1)}B[Symbol.for("nodejs.util.inspect.custom")]=B.toString;B[Symbol.toStringTag]="Decimal";var Ve=B.constructor=Pi(jt);gt=new Ve(gt);wt=new Ve(wt);var rs="BigNumber",es=["?on","config"],ts=nr(rs,es,r=>{var{on:e,config:n}=r,i=Ve.clone({precision:n.precision,modulo:Ve.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},e&&e("config",function(t,a){t.precision!==a.precision&&i.config({precision:t.precision})}),i},{isClass:!0}),Bi={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var i=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},a=function(o){var f=Math.PI/4;if(-f>o||o>f)return Math.cos(o)-1;var c=o*o;return c*(c*(c*(c*(c*(c*(c*(c/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},h=function(o,f){var c=Math.abs(o),l=Math.abs(f);return c<3e3&&l<3e3?Math.sqrt(c*c+l*l):(c<l?(c=l,l=o/f):l=f/o,c*Math.sqrt(1+l*l))},p=function(){throw SyntaxError("Invalid Param")};function v(o,f){var c=Math.abs(o),l=Math.abs(f);return o===0?Math.log(l):f===0?Math.log(c):c<3e3&&l<3e3?Math.log(o*o+f*f)*.5:(o=o/2,f=f/2,.5*Math.log(o*o+f*f)+Math.LN2)}var d=function(o,f){var c={re:0,im:0};if(o==null)c.re=c.im=0;else if(f!==void 0)c.re=o,c.im=f;else switch(typeof o){case"object":if("im"in o&&"re"in o)c.re=o.re,c.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return u.INFINITY;c.re=o.abs*Math.cos(o.arg),c.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return u.INFINITY;c.re=o.r*Math.cos(o.phi),c.im=o.r*Math.sin(o.phi)}else o.length===2?(c.re=o[0],c.im=o[1]):p();break;case"string":c.im=c.re=0;var l=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,m=0;l===null&&p();for(var g=0;g<l.length;g++){var N=l[g];N===" "||N==="	"||N===`
`||(N==="+"?s++:N==="-"?m++:N==="i"||N==="I"?(s+m===0&&p(),l[g+1]!==" "&&!isNaN(l[g+1])?(c.im+=parseFloat((m%2?"-":"")+l[g+1]),g++):c.im+=parseFloat((m%2?"-":"")+"1"),s=m=0):((s+m===0||isNaN(N))&&p(),l[g+1]==="i"||l[g+1]==="I"?(c.im+=parseFloat((m%2?"-":"")+N),g++):c.re+=parseFloat((m%2?"-":"")+N),s=m=0))}s+m>0&&p();break;case"number":c.im=0,c.re=o;break;default:p()}return isNaN(c.re)||isNaN(c.im),c};function u(o,f){if(!(this instanceof u))return new u(o,f);var c=d(o,f);this.re=c.re,this.im=c.im}u.prototype={re:0,im:0,sign:function(){var o=this.abs();return new u(this.re/o,this.im/o)},add:function(o,f){var c=new u(o,f);return this.isInfinite()&&c.isInfinite()?u.NAN:this.isInfinite()||c.isInfinite()?u.INFINITY:new u(this.re+c.re,this.im+c.im)},sub:function(o,f){var c=new u(o,f);return this.isInfinite()&&c.isInfinite()?u.NAN:this.isInfinite()||c.isInfinite()?u.INFINITY:new u(this.re-c.re,this.im-c.im)},mul:function(o,f){var c=new u(o,f);return this.isInfinite()&&c.isZero()||this.isZero()&&c.isInfinite()?u.NAN:this.isInfinite()||c.isInfinite()?u.INFINITY:c.im===0&&this.im===0?new u(this.re*c.re,0):new u(this.re*c.re-this.im*c.im,this.re*c.im+this.im*c.re)},div:function(o,f){var c=new u(o,f);if(this.isZero()&&c.isZero()||this.isInfinite()&&c.isInfinite())return u.NAN;if(this.isInfinite()||c.isZero())return u.INFINITY;if(this.isZero()||c.isInfinite())return u.ZERO;o=this.re,f=this.im;var l=c.re,s=c.im,m,g;return s===0?new u(o/l,f/l):Math.abs(l)<Math.abs(s)?(g=l/s,m=l*g+s,new u((o*g+f)/m,(f*g-o)/m)):(g=s/l,m=s*g+l,new u((o+f*g)/m,(f-o*g)/m))},pow:function(o,f){var c=new u(o,f);if(o=this.re,f=this.im,c.isZero())return u.ONE;if(c.im===0){if(f===0&&o>0)return new u(Math.pow(o,c.re),0);if(o===0)switch((c.re%4+4)%4){case 0:return new u(Math.pow(f,c.re),0);case 1:return new u(0,Math.pow(f,c.re));case 2:return new u(-Math.pow(f,c.re),0);case 3:return new u(0,-Math.pow(f,c.re))}}if(o===0&&f===0&&c.re>0&&c.im>=0)return u.ZERO;var l=Math.atan2(f,o),s=v(o,f);return o=Math.exp(c.re*s-c.im*l),f=c.im*s+c.re*l,new u(o*Math.cos(f),o*Math.sin(f))},sqrt:function(){var o=this.re,f=this.im,c=this.abs(),l,s;if(o>=0){if(f===0)return new u(Math.sqrt(o),0);l=.5*Math.sqrt(2*(c+o))}else l=Math.abs(f)/Math.sqrt(2*(c-o));return o<=0?s=.5*Math.sqrt(2*(c-o)):s=Math.abs(f)/Math.sqrt(2*(c+o)),new u(l,f<0?-s:s)},exp:function(){var o=Math.exp(this.re);return this.im,new u(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,f=this.im;return new u(Math.expm1(o)*Math.cos(f)+a(f),Math.exp(o)*Math.sin(f))},log:function(){var o=this.re,f=this.im;return new u(v(o,f),Math.atan2(f,o))},abs:function(){return h(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,f=this.im;return new u(Math.sin(o)*i(f),Math.cos(o)*t(f))},cos:function(){var o=this.re,f=this.im;return new u(Math.cos(o)*i(f),-Math.sin(o)*t(f))},tan:function(){var o=2*this.re,f=2*this.im,c=Math.cos(o)+i(f);return new u(Math.sin(o)/c,t(f)/c)},cot:function(){var o=2*this.re,f=2*this.im,c=Math.cos(o)-i(f);return new u(-Math.sin(o)/c,t(f)/c)},sec:function(){var o=this.re,f=this.im,c=.5*i(2*f)+.5*Math.cos(2*o);return new u(Math.cos(o)*i(f)/c,Math.sin(o)*t(f)/c)},csc:function(){var o=this.re,f=this.im,c=.5*i(2*f)-.5*Math.cos(2*o);return new u(Math.sin(o)*i(f)/c,-Math.cos(o)*t(f)/c)},asin:function(){var o=this.re,f=this.im,c=new u(f*f-o*o+1,-2*o*f).sqrt(),l=new u(c.re-f,c.im+o).log();return new u(l.im,-l.re)},acos:function(){var o=this.re,f=this.im,c=new u(f*f-o*o+1,-2*o*f).sqrt(),l=new u(c.re-f,c.im+o).log();return new u(Math.PI/2-l.im,l.re)},atan:function(){var o=this.re,f=this.im;if(o===0){if(f===1)return new u(0,1/0);if(f===-1)return new u(0,-1/0)}var c=o*o+(1-f)*(1-f),l=new u((1-f*f-o*o)/c,-2*o/c).log();return new u(-.5*l.im,.5*l.re)},acot:function(){var o=this.re,f=this.im;if(f===0)return new u(Math.atan2(1,o),0);var c=o*o+f*f;return c!==0?new u(o/c,-f/c).atan():new u(o!==0?o/0:0,f!==0?-f/0:0).atan()},asec:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new u(0,1/0);var c=o*o+f*f;return c!==0?new u(o/c,-f/c).acos():new u(o!==0?o/0:0,f!==0?-f/0:0).acos()},acsc:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new u(Math.PI/2,1/0);var c=o*o+f*f;return c!==0?new u(o/c,-f/c).asin():new u(o!==0?o/0:0,f!==0?-f/0:0).asin()},sinh:function(){var o=this.re,f=this.im;return new u(t(o)*Math.cos(f),i(o)*Math.sin(f))},cosh:function(){var o=this.re,f=this.im;return new u(i(o)*Math.cos(f),t(o)*Math.sin(f))},tanh:function(){var o=2*this.re,f=2*this.im,c=i(o)+Math.cos(f);return new u(t(o)/c,Math.sin(f)/c)},coth:function(){var o=2*this.re,f=2*this.im,c=i(o)-Math.cos(f);return new u(t(o)/c,-Math.sin(f)/c)},csch:function(){var o=this.re,f=this.im,c=Math.cos(2*f)-i(2*o);return new u(-2*t(o)*Math.cos(f)/c,2*i(o)*Math.sin(f)/c)},sech:function(){var o=this.re,f=this.im,c=Math.cos(2*f)+i(2*o);return new u(2*i(o)*Math.cos(f)/c,-2*t(o)*Math.sin(f)/c)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var f=this.asin();return this.re=-this.im,this.im=o,o=f.re,f.re=-f.im,f.im=o,f},acosh:function(){var o=this.acos();if(o.im<=0){var f=o.re;o.re=-o.im,o.im=f}else{var f=o.im;o.im=-o.re,o.re=f}return o},atanh:function(){var o=this.re,f=this.im,c=o>1&&f===0,l=1-o,s=1+o,m=l*l+f*f,g=m!==0?new u((s*l-f*f)/m,(f*l+s*f)/m):new u(o!==-1?o/0:0,f!==0?f/0:0),N=g.re;return g.re=v(g.re,g.im)/2,g.im=Math.atan2(g.im,N)/2,c&&(g.im=-g.im),g},acoth:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new u(0,Math.PI/2);var c=o*o+f*f;return c!==0?new u(o/c,-f/c).atanh():new u(o!==0?o/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var o=this.re,f=this.im;if(f===0)return new u(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var c=o*o+f*f;return c!==0?new u(o/c,-f/c).asinh():new u(o!==0?o/0:0,f!==0?-f/0:0).asinh()},asech:function(){var o=this.re,f=this.im;if(this.isZero())return u.INFINITY;var c=o*o+f*f;return c!==0?new u(o/c,-f/c).acosh():new u(o!==0?o/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var o=this.re,f=this.im,c=o*o+f*f;return new u(o/c,-f/c)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new u(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new u(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new u(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,f){var c=new u(o,f);return Math.abs(c.re-this.re)<=u.EPSILON&&Math.abs(c.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var o=this.re,f=this.im,c="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<u.EPSILON&&(o=0),Math.abs(f)<u.EPSILON&&(f=0),f===0?c+o:(o!==0?(c+=o,c+=" ",f<0?(f=-f,c+="-"):c+="+",c+=" "):f<0&&(f=-f,c+="-"),f!==1&&(c+=f),c+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,r.exports=u})()})(Bi);const Xr=ai(Bi.exports);var ns="Complex",is=[],as=nr(ns,is,()=>(Xr.prototype.type="Complex",Xr.prototype.isComplex=!0,Xr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Xr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Xr.prototype.format=function(r){var e="",n=this.im,i=this.re,t=Xt(this.re,r),a=Xt(this.im,r),h=Cr(r)?r:r?r.precision:null;if(h!==null){var p=Math.pow(10,-h);Math.abs(i/n)<p&&(i=0),Math.abs(n/i)<p&&(n=0)}return n===0?e=t:i===0?n===1?e="i":n===-1?e="-i":e=a+"i":n<0?n===-1?e=t+" - i":e=t+" - "+a.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+a+"i",e},Xr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Xr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(Cr(n)){if(an(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Cr(i))return new Xr({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xr.prototype.valueOf=Xr.prototype.toString,Xr.fromJSON=function(r){return new Xr(r)},Xr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Xr),{isClass:!0}),Di={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var i=2e3,t={s:1,n:0,d:1};function a(l,s){if(isNaN(l=parseInt(l,10)))throw c.InvalidParameter;return l*s}function h(l,s){if(s===0)throw c.DivisionByZero;var m=Object.create(c.prototype);m.s=l<0?-1:1,l=l<0?-l:l;var g=f(l,s);return m.n=l/g,m.d=s/g,m}function p(l){for(var s={},m=l,g=2,N=4;N<=m;){for(;m%g===0;)m/=g,s[g]=(s[g]||0)+1;N+=1+2*g++}return m!==l?m>1&&(s[m]=(s[m]||0)+1):s[l]=(s[l]||0)+1,s}var v=function(l,s){var m=0,g=1,N=1,w=0,M=0,b=0,y=1,x=1,_=0,S=1,F=1,I=1,D=1e7,L;if(l!=null)if(s!==void 0){if(m=l,g=s,N=m*g,m%1!==0||g%1!==0)throw c.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)m=l.n,g=l.d,"s"in l&&(m*=l.s);else if(0 in l)m=l[0],1 in l&&(g=l[1]);else throw c.InvalidParameter;N=m*g;break}case"number":{if(l<0&&(N=l,l=-l),l%1===0)m=l;else if(l>0){for(l>=1&&(x=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=x);S<=D&&I<=D;)if(L=(_+F)/(S+I),l===L){S+I<=D?(m=_+F,g=S+I):I>S?(m=F,g=I):(m=_,g=S);break}else l>L?(_+=F,S+=I):(F+=_,I+=S),S>D?(m=F,g=I):(m=_,g=S);m*=x}else(isNaN(l)||isNaN(s))&&(g=m=NaN);break}case"string":{if(S=l.match(/\d+|./g),S===null)throw c.InvalidParameter;if(S[_]==="-"?(N=-1,_++):S[_]==="+"&&_++,S.length===_+1?M=a(S[_++],N):S[_+1]==="."||S[_]==="."?(S[_]!=="."&&(w=a(S[_++],N)),_++,(_+1===S.length||S[_+1]==="("&&S[_+3]===")"||S[_+1]==="'"&&S[_+3]==="'")&&(M=a(S[_],N),y=Math.pow(10,S[_].length),_++),(S[_]==="("&&S[_+2]===")"||S[_]==="'"&&S[_+2]==="'")&&(b=a(S[_+1],N),x=Math.pow(10,S[_+1].length)-1,_+=3)):S[_+1]==="/"||S[_+1]===":"?(M=a(S[_],N),y=a(S[_+2],1),_+=3):S[_+3]==="/"&&S[_+1]===" "&&(w=a(S[_],N),M=a(S[_+2],N),y=a(S[_+4],1),_+=5),S.length<=_){g=y*x,N=m=b+g*w+x*M;break}}default:throw c.InvalidParameter}if(g===0)throw c.DivisionByZero;t.s=N<0?-1:1,t.n=Math.abs(m),t.d=Math.abs(g)};function d(l,s,m){for(var g=1;s>0;l=l*l%m,s>>=1)s&1&&(g=g*l%m);return g}function u(l,s){for(;s%2===0;s/=2);for(;s%5===0;s/=5);if(s===1)return 0;for(var m=10%s,g=1;m!==1;g++)if(m=m*10%s,g>i)return 0;return g}function o(l,s,m){for(var g=1,N=d(10,m,s),w=0;w<300;w++){if(g===N)return w;g=g*10%s,N=N*10%s}return 0}function f(l,s){if(!l)return s;if(!s)return l;for(;;){if(l%=s,!l)return s;if(s%=l,!s)return l}}function c(l,s){if(v(l,s),this instanceof c)l=f(t.d,t.n),this.s=t.s,this.n=t.n/l,this.d=t.d/l;else return h(t.s*t.n,t.d)}c.DivisionByZero=new Error("Division by Zero"),c.InvalidParameter=new Error("Invalid argument"),c.NonIntegerParameter=new Error("Parameters must be integer"),c.prototype={s:1,n:0,d:1,abs:function(){return h(this.n,this.d)},neg:function(){return h(-this.s*this.n,this.d)},add:function(l,s){return v(l,s),h(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(l,s){return v(l,s),h(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(l,s){return v(l,s),h(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(l,s){return v(l,s),h(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return h(this.s*this.n,this.d)},mod:function(l,s){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(l===void 0)return h(this.s*this.n%this.d,1);if(v(l,s),t.n===0&&this.d===0)throw c.DivisionByZero;return h(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(l,s){return v(l,s),h(f(t.n,this.n)*f(t.d,this.d),t.d*this.d)},lcm:function(l,s){return v(l,s),t.n===0&&this.n===0?h(0,1):h(t.n*this.n,f(t.n,this.n)*f(t.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):h(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):h(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):h(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return h(this.s*this.d,this.n)},pow:function(l,s){if(v(l,s),t.d===1)return t.s<0?h(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):h(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var m=p(this.n),g=p(this.d),N=1,w=1;for(var M in m)if(M!=="1"){if(M==="0"){N=0;break}if(m[M]*=t.n,m[M]%t.d===0)m[M]/=t.d;else return null;N*=Math.pow(M,m[M])}for(var M in g)if(M!=="1"){if(g[M]*=t.n,g[M]%t.d===0)g[M]/=t.d;else return null;w*=Math.pow(M,g[M])}return t.s<0?h(w,N):h(N,w)},equals:function(l,s){return v(l,s),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(l,s){v(l,s);var m=this.s*this.n*t.d-t.s*t.n*this.d;return(0<m)-(m<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var s=this.abs(),m=s.toContinued(),g=1;g<m.length;g++){for(var N=h(m[g-1],1),w=g-2;w>=0;w--)N=N.inverse().add(m[w]);if(N.sub(s).abs().valueOf()<l)return N.mul(this.s)}return this},divisible:function(l,s){return v(l,s),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var s,m="",g=this.n,N=this.d;return this.s<0&&(m+="-"),N===1?m+=g:(l&&(s=Math.floor(g/N))>0&&(m+=s,m+=" ",g%=N),m+=g,m+="/",m+=N),m},toLatex:function(l){var s,m="",g=this.n,N=this.d;return this.s<0&&(m+="-"),N===1?m+=g:(l&&(s=Math.floor(g/N))>0&&(m+=s,g%=N),m+="\\frac{",m+=g,m+="}{",m+=N,m+="}"),m},toContinued:function(){var l,s=this.n,m=this.d,g=[];if(isNaN(s)||isNaN(m))return g;do g.push(Math.floor(s/m)),l=s%m,s=m,m=l;while(s!==1);return g},toString:function(l){var s=this.n,m=this.d;if(isNaN(s)||isNaN(m))return"NaN";l=l||15;var g=u(s,m),N=o(s,m,g),w=this.s<0?"-":"";if(w+=s/m|0,s%=m,s*=10,s&&(w+="."),g){for(var M=N;M--;)w+=s/m|0,s%=m,s*=10;w+="(";for(var M=g;M--;)w+=s/m|0,s%=m,s*=10;w+=")"}else for(var M=l;s&&M--;)w+=s/m|0,s%=m,s*=10;return w}},Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Fraction=c,r.exports=c})()})(Di);const Ue=ai(Di.exports);var os="Fraction",ss=[],us=nr(os,ss,()=>(Ue.prototype.type="Fraction",Ue.prototype.isFraction=!0,Ue.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ue.fromJSON=function(r){return new Ue(r)},Ue),{isClass:!0}),fs="Matrix",cs=[],ls=nr(fs,cs,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0}),hs="DenseMatrix",ps=["Matrix"],vs=nr(hs,ps,r=>{var{Matrix:e}=r;function n(u,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!ue(o))throw new Error("Invalid datatype: "+o);if(Tr(u))u.type==="DenseMatrix"?(this._data=Ir(u._data),this._size=Ir(u._size),this._datatype=o||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=o||u._datatype);else if(u&&Er(u.data)&&Er(u.size))this._data=u.data,this._size=u.size,Un(this._data,this._size),this._datatype=o||u.datatype;else if(Er(u))this._data=d(u),this._size=ce(this._data),Un(this._data,this._size),this._datatype=o;else{if(u)throw new TypeError("Unsupported type of data ("+de(u)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new e,n.prototype.createDenseMatrix=function(u,o){return new n(u,o)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return dt(this._data,de)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(u,o){return new n(u,o)},n.prototype.subset=function(u,o,f){switch(arguments.length){case 1:return i(this,u);case 2:case 3:return a(this,u,o,f);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(u){if(!Er(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new yr(u.length,this._size.length);for(var o=0;o<u.length;o++)Sr(u[o],this._size[o]);for(var f=this._data,c=0,l=u.length;c<l;c++){var s=u[c];Sr(s,f.length),f=f[s]}return f},n.prototype.set=function(u,o,f){if(!Er(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new yr(u.length,this._size.length,"<");var c,l,s,m=u.map(function(N){return N+1});v(this,m,f);var g=this._data;for(c=0,l=u.length-1;c<l;c++)s=u[c],Sr(s,g.length),g=g[s];return s=u[u.length-1],Sr(s,g.length),g[s]=o,this};function i(u,o){if(!_t(o))throw new TypeError("Invalid index");var f=o.isScalar();if(f)return u.get(o.min());var c=o.size();if(c.length!==u._size.length)throw new yr(c.length,u._size.length);for(var l=o.min(),s=o.max(),m=0,g=u._size.length;m<g;m++)Sr(l[m],u._size[m]),Sr(s[m],u._size[m]);return new n(t(u._data,o,c.length,0),u._datatype)}function t(u,o,f,c){var l=c===f-1,s=o.dimension(c);return l?s.map(function(m){return Sr(m,u.length),u[m]}).valueOf():s.map(function(m){Sr(m,u.length);var g=u[m];return t(g,o,f,c+1)}).valueOf()}function a(u,o,f,c){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var l=o.size(),s=o.isScalar(),m;if(Tr(f)?(m=f.size(),f=f.valueOf()):m=ce(f),s){if(m.length!==0)throw new TypeError("Scalar expected");u.set(o.min(),f,c)}else{if(l.length<u._size.length)throw new yr(l.length,u._size.length,"<");if(m.length<l.length){for(var g=0,N=0;l[g]===1&&m[g]===1;)g++;for(;l[g]===1;)N++,g++;f=wi(f,l.length,N,m)}if(!vt(l,m))throw new yr(l,m,">");var w=o.max().map(function(y){return y+1});v(u,w,c);var M=l.length,b=0;h(u._data,o,f,M,b)}return u}function h(u,o,f,c,l){var s=l===c-1,m=o.dimension(l);s?m.forEach(function(g,N){Sr(g),u[g]=f[N[0]]}):m.forEach(function(g,N){Sr(g),h(u[g],o,f[N[0]],c,l+1)})}n.prototype.resize=function(u,o,f){if(!si(u))throw new TypeError("Array or Matrix expected");var c=u.valueOf().map(s=>Array.isArray(s)&&s.length===1?s[0]:s),l=f?this.clone():this;return p(l,c,o)};function p(u,o,f){if(o.length===0){for(var c=u._data;Er(c);)c=c[0];return c}return u._size=o.slice(0),u._data=Gt(u._data,u._size,f),u}n.prototype.reshape=function(u,o){var f=o?this.clone():this;f._data=Va(f._data,u);var c=f._size.reduce((l,s)=>l*s);return f._size=on(u,c),f};function v(u,o,f){for(var c=u._size.slice(0),l=!1;c.length<o.length;)c.push(0),l=!0;for(var s=0,m=o.length;s<m;s++)o[s]>c[s]&&(c[s]=o[s],l=!0);l&&p(u,c,f)}n.prototype.clone=function(){var u=new n({data:Ir(this._data),size:Ir(this._size),datatype:this._datatype});return u},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(u){var o=this,f=function s(m,g){return Er(m)?m.map(function(N,w){return s(N,g.concat(w))}):u(m,g,o)},c=f(this._data,[]),l=this._datatype!==void 0?dt(c,de):void 0;return new n(c,l)},n.prototype.forEach=function(u){var o=this,f=function c(l,s){Er(l)?l.forEach(function(m,g){c(m,s.concat(g))}):u(l,s,o)};f(this._data,[])},n.prototype[Symbol.iterator]=function*(){var u=function*o(f,c){if(Er(f))for(var l=0;l<f.length;l++)yield*o(f[l],c.concat(l));else yield{value:f,index:c}};yield*u(this._data,[])},n.prototype.rows=function(){var u=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var c of f)u.push(new n([c],this._datatype));return u},n.prototype.columns=function(){var u=this,o=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var c=this._data,l=function(g){var N=c.map(w=>[w[g]]);o.push(new n(N,u._datatype))},s=0;s<f[1];s++)l(s);return o},n.prototype.toArray=function(){return Ir(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(u){return Pr(this._data,u)},n.prototype.toString=function(){return Pr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(u){if(u){if(Yr(u)&&(u=u.toNumber()),!Cr(u)||!Or(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var o=u>0?u:0,f=u<0?-u:0,c=this._size[0],l=this._size[1],s=Math.min(c-f,l-o),m=[],g=0;g<s;g++)m[g]=this._data[g+f][g+o];return new n({data:m,size:[s],datatype:this._datatype})},n.diagonal=function(u,o,f,c){if(!Er(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(x){if(Yr(x)&&(x=x.toNumber()),!Cr(x)||!Or(x)||x<1)throw new Error("Size values must be positive integers");return x}),f){if(Yr(f)&&(f=f.toNumber()),!Cr(f)||!Or(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var l=f>0?f:0,s=f<0?-f:0,m=u[0],g=u[1],N=Math.min(m-s,g-l),w;if(Er(o)){if(o.length!==N)throw new Error("Invalid value array length");w=function(_){return o[_]}}else if(Tr(o)){var M=o.size();if(M.length!==1||M[0]!==N)throw new Error("Invalid matrix length");w=function(_){return o.get([_])}}else w=function(){return o};c||(c=Yr(w(0))?w(0).mul(0):0);var b=[];if(u.length>0){b=Gt(b,u,c);for(var y=0;y<N;y++)b[y+s][y+l]=w(y)}return new n({data:b,size:[m,g]})},n.fromJSON=function(u){return new n(u)},n.prototype.swapRows=function(u,o){if(!Cr(u)||!Or(u)||!Cr(o)||!Or(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Sr(u,this._size[0]),Sr(o,this._size[0]),n._swapRows(u,o,this._data),this},n._swapRows=function(u,o,f){var c=f[u];f[u]=f[o],f[o]=c};function d(u){for(var o=0,f=u.length;o<f;o++){var c=u[o];Er(c)?u[o]=d(c):c&&c.isMatrix===!0&&(u[o]=d(c.valueOf()))}return u}return n},{isClass:!0});function se(r,e,n){return r&&typeof r.map=="function"?r.map(function(i){return se(i,e)}):e(r)}var Ti="number",un="number, number";function qi(r){return Math.abs(r)}qi.signature=Ti;function Ri(r,e){return r+e}Ri.signature=un;function Ui(r,e){return r*e}Ui.signature=un;function $i(r){return-r}$i.signature=Ti;function Li(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Li.signature=un;var ms=Math.PI,ds="number";function Zi(r){return r===0}Zi.signature=ds;var Vn="isZero",gs=["typed"],ws=nr(Vn,gs,r=>{var{typed:e}=r;return e(Vn,{number:Zi,BigNumber:function(i){return i.isZero()},Complex:function(i){return i.re===0&&i.im===0},Fraction:function(i){return i.d===1&&i.n===0},Unit:function(i){return this(i.value)},"Array | Matrix":function(i){return se(i,this)}})});function ys(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var i=r.minus(e).abs();if(i.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return i.lte(t.times(n))}return!1}function bs(r,e,n){return mt(r.re,e.re,n)&&mt(r.im,e.im,n)}var bt="equalScalar",Ns=["typed","config"],_s=nr(bt,Ns,r=>{var{typed:e,config:n}=r;return e(bt,{"boolean, boolean":function(t,a){return t===a},"number, number":function(t,a){return mt(t,a,n.epsilon)},"BigNumber, BigNumber":function(t,a){return t.eq(a)||ys(t,a,n.epsilon)},"Fraction, Fraction":function(t,a){return t.equals(a)},"Complex, Complex":function(t,a){return bs(t,a,n.epsilon)},"Unit, Unit":function(t,a){if(!t.equalBase(a))throw new Error("Cannot compare units with different base");return this(t.value,a.value)}})});nr(bt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(bt,{"number, number":function(t,a){return mt(t,a,n.epsilon)}})});var Ms="SparseMatrix",Es=["typed","equalScalar","Matrix"],Ss=nr(Ms,Es,r=>{var{typed:e,equalScalar:n,Matrix:i}=r;function t(s,m){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!ue(m))throw new Error("Invalid datatype: "+m);if(Tr(s))a(this,s,m);else if(s&&Er(s.index)&&Er(s.ptr)&&Er(s.size))this._values=s.values,this._index=s.index,this._ptr=s.ptr,this._size=s.size,this._datatype=m||s.datatype;else if(Er(s))h(this,s,m);else{if(s)throw new TypeError("Unsupported type of data ("+de(s)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(s,m,g){m.type==="SparseMatrix"?(s._values=m._values?Ir(m._values):void 0,s._index=Ir(m._index),s._ptr=Ir(m._ptr),s._size=Ir(m._size),s._datatype=g||m._datatype):h(s,m.valueOf(),g||m._datatype)}function h(s,m,g){s._values=[],s._index=[],s._ptr=[],s._datatype=g;var N=m.length,w=0,M=n,b=0;if(ue(g)&&(M=e.find(n,[g,g])||n,b=e.convert(0,g)),N>0){var y=0;do{s._ptr.push(s._index.length);for(var x=0;x<N;x++){var _=m[x];if(Er(_)){if(y===0&&w<_.length&&(w=_.length),y<_.length){var S=_[y];M(S,b)||(s._values.push(S),s._index.push(x))}}else y===0&&w<1&&(w=1),M(_,b)||(s._values.push(_),s._index.push(x))}y++}while(y<w)}s._ptr.push(s._index.length),s._size=[N,w]}t.prototype=new i,t.prototype.createSparseMatrix=function(s,m){return new t(s,m)},t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return dt(this._values,de)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(s,m){return new t(s,m)},t.prototype.density=function(){var s=this._size[0],m=this._size[1];return s!==0&&m!==0?this._index.length/(s*m):0},t.prototype.subset=function(s,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,s);case 2:case 3:return v(this,s,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function p(s,m){if(!_t(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return s.get(m.min());var N=m.size();if(N.length!==s._size.length)throw new yr(N.length,s._size.length);var w,M,b,y,x=m.min(),_=m.max();for(w=0,M=s._size.length;w<M;w++)Sr(x[w],s._size[w]),Sr(_[w],s._size[w]);var S=s._values,F=s._index,I=s._ptr,D=m.dimension(0),L=m.dimension(1),q=[],R=[];D.forEach(function(H,j){R[H]=j[0],q[H]=!0});var P=S?[]:void 0,J=[],V=[];return L.forEach(function(H){for(V.push(J.length),b=I[H],y=I[H+1];b<y;b++)w=F[b],q[w]===!0&&(J.push(R[w]),P&&P.push(S[b]))}),V.push(J.length),new t({values:P,index:J,ptr:V,size:N,datatype:s._datatype})}function v(s,m,g,N){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),M=m.isScalar(),b;if(Tr(g)?(b=g.size(),g=g.toArray()):b=ce(g),M){if(b.length!==0)throw new TypeError("Scalar expected");s.set(m.min(),g,N)}else{if(w.length!==1&&w.length!==2)throw new yr(w.length,s._size.length,"<");if(b.length<w.length){for(var y=0,x=0;w[y]===1&&b[y]===1;)y++;for(;w[y]===1;)x++,y++;g=wi(g,w.length,x,b)}if(!vt(w,b))throw new yr(w,b,">");if(w.length===1){var _=m.dimension(0);_.forEach(function(I,D){Sr(I),s.set([I,0],g[D[0]],N)})}else{var S=m.dimension(0),F=m.dimension(1);S.forEach(function(I,D){Sr(I),F.forEach(function(L,q){Sr(L),s.set([I,L],g[D[0]][q[0]],N)})})}}return s}t.prototype.get=function(s){if(!Er(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new yr(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=s[0],g=s[1];Sr(m,this._size[0]),Sr(g,this._size[1]);var N=d(m,this._ptr[g],this._ptr[g+1],this._index);return N<this._ptr[g+1]&&this._index[N]===m?this._values[N]:0},t.prototype.set=function(s,m,g){if(!Er(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new yr(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var N=s[0],w=s[1],M=this._size[0],b=this._size[1],y=n,x=0;ue(this._datatype)&&(y=e.find(n,[this._datatype,this._datatype])||n,x=e.convert(0,this._datatype)),(N>M-1||w>b-1)&&(f(this,Math.max(N+1,M),Math.max(w+1,b),g),M=this._size[0],b=this._size[1]),Sr(N,M),Sr(w,b);var _=d(N,this._ptr[w],this._ptr[w+1],this._index);return _<this._ptr[w+1]&&this._index[_]===N?y(m,x)?u(_,w,this._values,this._index,this._ptr):this._values[_]=m:o(_,N,w,m,this._values,this._index,this._ptr),this};function d(s,m,g,N){if(g-m===0)return g;for(var w=m;w<g;w++)if(N[w]===s)return w;return m}function u(s,m,g,N,w){g.splice(s,1),N.splice(s,1);for(var M=m+1;M<w.length;M++)w[M]--}function o(s,m,g,N,w,M,b){w.splice(s,0,N),M.splice(s,0,m);for(var y=g+1;y<b.length;y++)b[y]++}t.prototype.resize=function(s,m,g){if(!si(s))throw new TypeError("Array or Matrix expected");var N=s.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(N.length!==2)throw new Error("Only two dimensions matrix are supported");N.forEach(function(M){if(!Cr(M)||!Or(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Pr(N)+")")});var w=g?this.clone():this;return f(w,N[0],N[1],m)};function f(s,m,g,N){var w=N||0,M=n,b=0;ue(s._datatype)&&(M=e.find(n,[s._datatype,s._datatype])||n,b=e.convert(0,s._datatype),w=e.convert(w,s._datatype));var y=!M(w,b),x=s._size[0],_=s._size[1],S,F,I;if(g>_){for(F=_;F<g;F++)if(s._ptr[F]=s._values.length,y)for(S=0;S<x;S++)s._values.push(w),s._index.push(S);s._ptr[g]=s._values.length}else g<_&&(s._ptr.splice(g+1,_-g),s._values.splice(s._ptr[g],s._values.length),s._index.splice(s._ptr[g],s._index.length));if(_=g,m>x){if(y){var D=0;for(F=0;F<_;F++){s._ptr[F]=s._ptr[F]+D,I=s._ptr[F+1]+D;var L=0;for(S=x;S<m;S++,L++)s._values.splice(I+L,0,w),s._index.splice(I+L,0,S),D++}s._ptr[_]=s._values.length}}else if(m<x){var q=0;for(F=0;F<_;F++){s._ptr[F]=s._ptr[F]-q;var R=s._ptr[F],P=s._ptr[F+1]-q;for(I=R;I<P;I++)S=s._index[I],S>m-1&&(s._values.splice(I,1),s._index.splice(I,1),q++)}s._ptr[F]=s._values.length}return s._size[0]=m,s._size[1]=g,s}t.prototype.reshape=function(s,m){if(!Er(s))throw new TypeError("Array expected");if(s.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");s.forEach(function(H){if(!Cr(H)||!Or(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Pr(s)+")")});var g=this._size[0]*this._size[1];s=on(s,g);var N=s[0]*s[1];if(g!==N)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===s[0]&&this._size[1]===s[1])return w;for(var M=[],b=0;b<w._ptr.length;b++)for(var y=0;y<w._ptr[b+1]-w._ptr[b];y++)M.push(b);for(var x=w._values.slice(),_=w._index.slice(),S=0;S<w._index.length;S++){var F=_[S],I=M[S],D=F*w._size[1]+I;M[S]=D%s[1],_[S]=Math.floor(D/s[1])}w._values.length=0,w._index.length=0,w._ptr.length=s[1]+1,w._size=s.slice();for(var L=0;L<w._ptr.length;L++)w._ptr[L]=0;for(var q=0;q<x.length;q++){var R=_[q],P=M[q],J=x[q],V=d(R,w._ptr[P],w._ptr[P+1],w._index);o(V,R,P,J,w._values,w._index,w._ptr)}return w},t.prototype.clone=function(){var s=new t({values:this._values?Ir(this._values):void 0,index:Ir(this._index),ptr:Ir(this._ptr),size:Ir(this._size),datatype:this._datatype});return s},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(s,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,N=this._size[0],w=this._size[1],M=function(y,x,_){return s(y,[x,_],g)};return c(this,0,N-1,0,w-1,M,m)};function c(s,m,g,N,w,M,b){var y=[],x=[],_=[],S=n,F=0;ue(s._datatype)&&(S=e.find(n,[s._datatype,s._datatype])||n,F=e.convert(0,s._datatype));for(var I=function(tr,wr,Nr){tr=M(tr,wr,Nr),S(tr,F)||(y.push(tr),x.push(wr))},D=N;D<=w;D++){_.push(y.length);var L=s._ptr[D],q=s._ptr[D+1];if(b)for(var R=L;R<q;R++){var P=s._index[R];P>=m&&P<=g&&I(s._values[R],P-m,D-N)}else{for(var J={},V=L;V<q;V++){var H=s._index[V];J[H]=s._values[V]}for(var j=m;j<=g;j++){var ir=j in J?J[j]:0;I(ir,j-m,D-N)}}}return _.push(y.length),new t({values:y,index:x,ptr:_,size:[g-m+1,w-N+1]})}t.prototype.forEach=function(s,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,N=this._size[0],w=this._size[1],M=0;M<w;M++){var b=this._ptr[M],y=this._ptr[M+1];if(m)for(var x=b;x<y;x++){var _=this._index[x];s(this._values[x],[_,M],g)}else{for(var S={},F=b;F<y;F++){var I=this._index[F];S[I]=this._values[F]}for(var D=0;D<N;D++){var L=D in S?S[D]:0;s(L,[D,M],g)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var s=this._size[1],m=0;m<s;m++)for(var g=this._ptr[m],N=this._ptr[m+1],w=g;w<N;w++){var M=this._index[w];yield{value:this._values[w],index:[M,m]}}},t.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)};function l(s,m,g,N,w){var M=N[0],b=N[1],y=[],x,_;for(x=0;x<M;x++)for(y[x]=[],_=0;_<b;_++)y[x][_]=0;for(_=0;_<b;_++)for(var S=g[_],F=g[_+1],I=S;I<F;I++)x=m[I],y[x][_]=s?w?Ir(s[I]):s[I]:1;return y}return t.prototype.format=function(s){for(var m=this._size[0],g=this._size[1],N=this.density(),w="Sparse Matrix ["+Pr(m,s)+" x "+Pr(g,s)+"] density: "+Pr(N,s)+`
`,M=0;M<g;M++)for(var b=this._ptr[M],y=this._ptr[M+1],x=b;x<y;x++){var _=this._index[x];w+=`
    (`+Pr(_,s)+", "+Pr(M,s)+") ==> "+(this._values?Pr(this._values[x],s):"X")}return w},t.prototype.toString=function(){return Pr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(s){if(s){if(Yr(s)&&(s=s.toNumber()),!Cr(s)||!Or(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var m=s>0?s:0,g=s<0?-s:0,N=this._size[0],w=this._size[1],M=Math.min(N-g,w-m),b=[],y=[],x=[];x[0]=0;for(var _=m;_<w&&b.length<M;_++)for(var S=this._ptr[_],F=this._ptr[_+1],I=S;I<F;I++){var D=this._index[I];if(D===_-m+g){b.push(this._values[I]),y[b.length-1]=D-g;break}}return x.push(b.length),new t({values:b,index:y,ptr:x,size:[M,1]})},t.fromJSON=function(s){return new t(s)},t.diagonal=function(s,m,g,N,w){if(!Er(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(H){if(Yr(H)&&(H=H.toNumber()),!Cr(H)||!Or(H)||H<1)throw new Error("Size values must be positive integers");return H}),g){if(Yr(g)&&(g=g.toNumber()),!Cr(g)||!Or(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var M=n,b=0;ue(w)&&(M=e.find(n,[w,w])||n,b=e.convert(0,w));var y=g>0?g:0,x=g<0?-g:0,_=s[0],S=s[1],F=Math.min(_-x,S-y),I;if(Er(m)){if(m.length!==F)throw new Error("Invalid value array length");I=function(j){return m[j]}}else if(Tr(m)){var D=m.size();if(D.length!==1||D[0]!==F)throw new Error("Invalid matrix length");I=function(j){return m.get([j])}}else I=function(){return m};for(var L=[],q=[],R=[],P=0;P<S;P++){R.push(L.length);var J=P-y;if(J>=0&&J<F){var V=I(J);M(V,b)||(q.push(J+x),L.push(V))}}return R.push(L.length),new t({values:L,index:q,ptr:R,size:[_,S]})},t.prototype.swapRows=function(s,m){if(!Cr(s)||!Or(s)||!Cr(m)||!Or(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Sr(s,this._size[0]),Sr(m,this._size[0]),t._swapRows(s,m,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(s,m,g,N,w){for(var M=N[s],b=N[s+1],y=M;y<b;y++)w(g[y],m[y])},t._swapRows=function(s,m,g,N,w,M){for(var b=0;b<g;b++){var y=M[b],x=M[b+1],_=d(s,y,x,w),S=d(m,y,x,w);if(_<x&&S<x&&w[_]===s&&w[S]===m){if(N){var F=N[_];N[_]=N[S],N[S]=F}continue}if(_<x&&w[_]===s&&(S>=x||w[S]!==m)){var I=N?N[_]:void 0;w.splice(S,0,m),N&&N.splice(S,0,I),w.splice(S<=_?_+1:_,1),N&&N.splice(S<=_?_+1:_,1);continue}if(S<x&&w[S]===m&&(_>=x||w[_]!==s)){var D=N?N[S]:void 0;w.splice(_,0,s),N&&N.splice(_,0,D),w.splice(_<=S?S+1:S,1),N&&N.splice(_<=S?S+1:S,1)}}},t},{isClass:!0}),As="number",xs=["typed"];function Cs(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],t=e[3];return{input:r,radix:n,integerPart:i,fractionalPart:t}}else return null}function Os(r){for(var e=parseInt(r.integerPart,r.radix),n=0,i=0;i<r.fractionalPart.length;i++){var t=parseInt(r.fractionalPart[i],r.radix);n+=t/Math.pow(r.radix,i+1)}var a=e+n;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is no valid number');return a}var zs=nr(As,xs,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var a=Cs(t);if(a)return Os(a);var h=0,p=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(h=Number(p[2]),t=p[1]);var v=Number(t);if(isNaN(v))throw new SyntaxError('String "'+t+'" is no valid number');if(p){if(v>2**h-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));v>=2**(h-1)&&(v=v-2**h)}return v},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,a){return t.toNumber(a)},"Array | Matrix":function(t){return se(t,this)}});return n.fromJSON=function(i){return parseFloat(i.value)},n}),Fs="bignumber",Is=["typed","BigNumber"],Ps=nr(Fs,Is,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var a=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var h=a[2],p=n(a[1]),v=new n(2).pow(Number(h));if(p.gt(v.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var d=new n(2).pow(Number(h)-1);return p.gte(d)?p.sub(v):p}return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return se(t,this)}})}),Bs="complex",Ds=["typed","Complex"],Ts=nr(Bs,Ds,r=>{var{typed:e,Complex:n}=r;return e("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,a){return new n(t,a)},"BigNumber, BigNumber":function(t,a){return new n(t.toNumber(),a.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(t){return se(t,this)}})}),qs="fraction",Rs=["typed","Fraction"],Us=nr(qs,Rs,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,a){return new n(t,a)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return se(t,this)}})}),Hn="matrix",$s=["typed","Matrix","DenseMatrix","SparseMatrix"],Ls=nr(Hn,$s,r=>{var{typed:e,Matrix:n,DenseMatrix:i,SparseMatrix:t}=r;return e(Hn,{"":function(){return a([])},string:function(p){return a([],p)},"string, string":function(p,v){return a([],p,v)},Array:function(p){return a(p)},Matrix:function(p){return a(p,p.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(h,p,v){if(p==="dense"||p==="default"||p===void 0)return new i(h,v);if(p==="sparse")return new t(h,v);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),Wn="unaryMinus",Zs=["typed"],Vs=nr(Wn,Zs,r=>{var{typed:e}=r;return e(Wn,{number:$i,Complex:function(i){return i.neg()},BigNumber:function(i){return i.neg()},Fraction:function(i){return i.neg()},Unit:function(i){var t=i.clone();return t.value=this(i.value),t},"Array | Matrix":function(i){return se(i,this)}})}),Yn="abs",Hs=["typed"],Ws=nr(Yn,Hs,r=>{var{typed:e}=r;return e(Yn,{number:qi,Complex:function(i){return i.abs()},BigNumber:function(i){return i.abs()},Fraction:function(i){return i.abs()},"Array | Matrix":function(i){return se(i,this)},Unit:function(i){return i.abs()}})}),Jn="addScalar",Ys=["typed"],Js=nr(Jn,Ys,r=>{var{typed:e}=r;return e(Jn,{"number, number":Ri,"Complex, Complex":function(i,t){return i.add(t)},"BigNumber, BigNumber":function(i,t){return i.plus(t)},"Fraction, Fraction":function(i,t){return i.add(t)},"Unit, Unit":function(i,t){if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(t))throw new Error("Units do not match");var a=i.clone();return a.value=this(a.value,t.value),a.fixPrefix=!1,a}})}),Xs="algorithm11",Gs=["typed","equalScalar"],Qs=nr(Xs,Gs,r=>{var{typed:e,equalScalar:n}=r;return function(t,a,h,p){var v=t._values,d=t._index,u=t._ptr,o=t._size,f=t._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=o[0],l=o[1],s,m=n,g=0,N=h;typeof f=="string"&&(s=f,m=e.find(n,[s,s]),g=e.convert(0,s),a=e.convert(a,s),N=e.find(h,[s,s]));for(var w=[],M=[],b=[],y=0;y<l;y++){b[y]=M.length;for(var x=u[y],_=u[y+1],S=x;S<_;S++){var F=d[S],I=p?N(a,v[S]):N(v[S],a);m(I,g)||(M.push(F),w.push(I))}}return b[l]=M.length,t.createSparseMatrix({values:w,index:M,ptr:b,size:[c,l],datatype:s})}}),Ks="algorithm14",js=["typed"],Vi=nr(Ks,js,r=>{var{typed:e}=r;return function(t,a,h,p){var v=t._data,d=t._size,u=t._datatype,o,f=h;typeof u=="string"&&(o=u,a=e.convert(a,o),f=e.find(h,[o,o]));var c=d.length>0?n(f,0,d,d[0],v,a,p):[];return t.createDenseMatrix({data:c,size:Ir(d),datatype:o})};function n(i,t,a,h,p,v,d){var u=[];if(t===a.length-1)for(var o=0;o<h;o++)u[o]=d?i(v,p[o]):i(p[o],v);else for(var f=0;f<h;f++)u[f]=n(i,t+1,a,a[t+1],p[f],v,d);return u}}),ks="algorithm01",ru=["typed"],eu=nr(ks,ru,r=>{var{typed:e}=r;return function(i,t,a,h){var p=i._data,v=i._size,d=i._datatype,u=t._values,o=t._index,f=t._ptr,c=t._size,l=t._datatype;if(v.length!==c.length)throw new yr(v.length,c.length);if(v[0]!==c[0]||v[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+c+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=v[0],m=v[1],g=typeof d=="string"&&d===l?d:void 0,N=g?e.find(a,[g,g]):a,w,M,b=[];for(w=0;w<s;w++)b[w]=[];var y=[],x=[];for(M=0;M<m;M++){for(var _=M+1,S=f[M],F=f[M+1],I=S;I<F;I++)w=o[I],y[w]=h?N(u[I],p[w][M]):N(p[w][M],u[I]),x[w]=_;for(w=0;w<s;w++)x[w]===_?b[w][M]=y[w]:b[w][M]=p[w][M]}return i.createDenseMatrix({data:b,size:[s,m],datatype:g})}}),tu="algorithm10",nu=["typed","DenseMatrix"],iu=nr(tu,nu,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,a,h,p){var v=t._values,d=t._index,u=t._ptr,o=t._size,f=t._datatype;if(!v)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c=o[0],l=o[1],s,m=h;typeof f=="string"&&(s=f,a=e.convert(a,s),m=e.find(h,[s,s]));for(var g=[],N=[],w=[],M=0;M<l;M++){for(var b=M+1,y=u[M],x=u[M+1],_=y;_<x;_++){var S=d[_];N[S]=v[_],w[S]=b}for(var F=0;F<c;F++)M===0&&(g[F]=[]),w[F]===b?g[F][M]=p?m(a,N[F]):m(N[F],a):g[F][M]=a}return new n({data:g,size:[c,l],datatype:s})}}),au="algorithm13",ou=["typed"],su=nr(au,ou,r=>{var{typed:e}=r;return function(t,a,h){var p=t._data,v=t._size,d=t._datatype,u=a._data,o=a._size,f=a._datatype,c=[];if(v.length!==o.length)throw new yr(v.length,o.length);for(var l=0;l<v.length;l++){if(v[l]!==o[l])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+o+")");c[l]=v[l]}var s,m=h;typeof d=="string"&&d===f&&(s=d,m=e.find(h,[s,s]));var g=c.length>0?n(m,0,c,c[0],p,u):[];return t.createDenseMatrix({data:g,size:c,datatype:s})};function n(i,t,a,h,p,v){var d=[];if(t===a.length-1)for(var u=0;u<h;u++)d[u]=i(p[u],v[u]);else for(var o=0;o<h;o++)d[o]=n(i,t+1,a,a[t+1],p[o],v[o]);return d}}),uu="algorithm03",fu=["typed"],cu=nr(uu,fu,r=>{var{typed:e}=r;return function(i,t,a,h){var p=i._data,v=i._size,d=i._datatype,u=t._values,o=t._index,f=t._ptr,c=t._size,l=t._datatype;if(v.length!==c.length)throw new yr(v.length,c.length);if(v[0]!==c[0]||v[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+v+") must match Matrix B ("+c+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=v[0],m=v[1],g,N=0,w=a;typeof d=="string"&&d===l&&(g=d,N=e.convert(0,g),w=e.find(a,[g,g]));for(var M=[],b=0;b<s;b++)M[b]=[];for(var y=[],x=[],_=0;_<m;_++){for(var S=_+1,F=f[_],I=f[_+1],D=F;D<I;D++){var L=o[D];y[L]=h?w(u[D],p[L][_]):w(p[L][_],u[D]),x[L]=S}for(var q=0;q<s;q++)x[q]===S?M[q][_]=y[q]:M[q][_]=h?w(N,p[q][_]):w(p[q][_],N)}return i.createDenseMatrix({data:M,size:[s,m],datatype:g})}}),lu="algorithm05",hu=["typed","equalScalar"],pu=nr(lu,hu,r=>{var{typed:e,equalScalar:n}=r;return function(t,a,h){var p=t._values,v=t._index,d=t._ptr,u=t._size,o=t._datatype,f=a._values,c=a._index,l=a._ptr,s=a._size,m=a._datatype;if(u.length!==s.length)throw new yr(u.length,s.length);if(u[0]!==s[0]||u[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+s+")");var g=u[0],N=u[1],w,M=n,b=0,y=h;typeof o=="string"&&o===m&&(w=o,M=e.find(n,[w,w]),b=e.convert(0,w),y=e.find(h,[w,w]));var x=p&&f?[]:void 0,_=[],S=[],F=x?[]:void 0,I=x?[]:void 0,D=[],L=[],q,R,P,J;for(R=0;R<N;R++){S[R]=_.length;var V=R+1;for(P=d[R],J=d[R+1];P<J;P++)q=v[P],_.push(q),D[q]=V,F&&(F[q]=p[P]);for(P=l[R],J=l[R+1];P<J;P++)q=c[P],D[q]!==V&&_.push(q),L[q]=V,I&&(I[q]=f[P]);if(x)for(P=S[R];P<_.length;){q=_[P];var H=D[q],j=L[q];if(H===V||j===V){var ir=H===V?F[q]:b,fr=j===V?I[q]:b,tr=y(ir,fr);M(tr,b)?_.splice(P,1):(x.push(tr),P++)}}}return S[N]=_.length,t.createSparseMatrix({values:x,index:_,ptr:S,size:[g,N],datatype:w})}}),vu="multiplyScalar",mu=["typed"],du=nr(vu,mu,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Ui,"Complex, Complex":function(i,t){return i.mul(t)},"BigNumber, BigNumber":function(i,t){return i.times(t)},"Fraction, Fraction":function(i,t){return i.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(i,t){var a=t.clone();return a.value=a.value===null?a._normalize(i):this(a.value,i),a},"Unit, number | Fraction | BigNumber | Complex":function(i,t){var a=i.clone();return a.value=a.value===null?a._normalize(t):this(a.value,t),a},"Unit, Unit":function(i,t){return i.multiply(t)}})}),Xn="multiply",gu=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],wu=nr(Xn,gu,r=>{var{typed:e,matrix:n,addScalar:i,multiplyScalar:t,equalScalar:a,dot:h}=r,p=Qs({typed:e,equalScalar:a}),v=Vi({typed:e});function d(b,y){switch(b.length){case 1:switch(y.length){case 1:if(b[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(b[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+y[0]+")");break;case 2:if(b[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}function u(b,y,x){if(x===0)throw new Error("Cannot multiply two empty vectors");return h(b,y)}function o(b,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(b,y)}function f(b,y){var x=b._data,_=b._size,S=b._datatype,F=y._data,I=y._size,D=y._datatype,L=_[0],q=I[1],R,P=i,J=t;S&&D&&S===D&&typeof S=="string"&&(R=S,P=e.find(i,[R,R]),J=e.find(t,[R,R]));for(var V=[],H=0;H<q;H++){for(var j=J(x[0],F[0][H]),ir=1;ir<L;ir++)j=P(j,J(x[ir],F[ir][H]));V[H]=j}return b.createDenseMatrix({data:V,size:[q],datatype:R})}var c=e("_multiplyMatrixVector",{"DenseMatrix, any":s,"SparseMatrix, any":N}),l=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":M});function s(b,y){var x=b._data,_=b._size,S=b._datatype,F=y._data,I=y._datatype,D=_[0],L=_[1],q,R=i,P=t;S&&I&&S===I&&typeof S=="string"&&(q=S,R=e.find(i,[q,q]),P=e.find(t,[q,q]));for(var J=[],V=0;V<D;V++){for(var H=x[V],j=P(H[0],F[0]),ir=1;ir<L;ir++)j=R(j,P(H[ir],F[ir]));J[V]=j}return b.createDenseMatrix({data:J,size:[D],datatype:q})}function m(b,y){var x=b._data,_=b._size,S=b._datatype,F=y._data,I=y._size,D=y._datatype,L=_[0],q=_[1],R=I[1],P,J=i,V=t;S&&D&&S===D&&typeof S=="string"&&(P=S,J=e.find(i,[P,P]),V=e.find(t,[P,P]));for(var H=[],j=0;j<L;j++){var ir=x[j];H[j]=[];for(var fr=0;fr<R;fr++){for(var tr=V(ir[0],F[0][fr]),wr=1;wr<q;wr++)tr=J(tr,V(ir[wr],F[wr][fr]));H[j][fr]=tr}}return b.createDenseMatrix({data:H,size:[L,R],datatype:P})}function g(b,y){var x=b._data,_=b._size,S=b._datatype,F=y._values,I=y._index,D=y._ptr,L=y._size,q=y._datatype;if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=_[0],P=L[1],J,V=i,H=t,j=a,ir=0;S&&q&&S===q&&typeof S=="string"&&(J=S,V=e.find(i,[J,J]),H=e.find(t,[J,J]),j=e.find(a,[J,J]),ir=e.convert(0,J));for(var fr=[],tr=[],wr=[],Nr=y.createSparseMatrix({values:fr,index:tr,ptr:wr,size:[R,P],datatype:J}),_r=0;_r<P;_r++){wr[_r]=tr.length;var cr=D[_r],Br=D[_r+1];if(Br>cr)for(var pr=0,hr=0;hr<R;hr++){for(var qr=hr+1,Mr=void 0,lr=cr;lr<Br;lr++){var xr=I[lr];pr!==qr?(Mr=H(x[hr][xr],F[lr]),pr=qr):Mr=V(Mr,H(x[hr][xr],F[lr]))}pr===qr&&!j(Mr,ir)&&(tr.push(hr),fr.push(Mr))}}return wr[P]=tr.length,Nr}function N(b,y){var x=b._values,_=b._index,S=b._ptr,F=b._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=y._data,D=y._datatype,L=b._size[0],q=y._size[0],R=[],P=[],J=[],V,H=i,j=t,ir=a,fr=0;F&&D&&F===D&&typeof F=="string"&&(V=F,H=e.find(i,[V,V]),j=e.find(t,[V,V]),ir=e.find(a,[V,V]),fr=e.convert(0,V));var tr=[],wr=[];J[0]=0;for(var Nr=0;Nr<q;Nr++){var _r=I[Nr];if(!ir(_r,fr))for(var cr=S[Nr],Br=S[Nr+1],pr=cr;pr<Br;pr++){var hr=_[pr];wr[hr]?tr[hr]=H(tr[hr],j(_r,x[pr])):(wr[hr]=!0,P.push(hr),tr[hr]=j(_r,x[pr]))}}for(var qr=P.length,Mr=0;Mr<qr;Mr++){var lr=P[Mr];R[Mr]=tr[lr]}return J[1]=P.length,b.createSparseMatrix({values:R,index:P,ptr:J,size:[L,1],datatype:V})}function w(b,y){var x=b._values,_=b._index,S=b._ptr,F=b._datatype;if(!x)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=y._data,D=y._datatype,L=b._size[0],q=y._size[0],R=y._size[1],P,J=i,V=t,H=a,j=0;F&&D&&F===D&&typeof F=="string"&&(P=F,J=e.find(i,[P,P]),V=e.find(t,[P,P]),H=e.find(a,[P,P]),j=e.convert(0,P));for(var ir=[],fr=[],tr=[],wr=b.createSparseMatrix({values:ir,index:fr,ptr:tr,size:[L,R],datatype:P}),Nr=[],_r=[],cr=0;cr<R;cr++){tr[cr]=fr.length;for(var Br=cr+1,pr=0;pr<q;pr++){var hr=I[pr][cr];if(!H(hr,j))for(var qr=S[pr],Mr=S[pr+1],lr=qr;lr<Mr;lr++){var xr=_[lr];_r[xr]!==Br?(_r[xr]=Br,fr.push(xr),Nr[xr]=V(hr,x[lr])):Nr[xr]=J(Nr[xr],V(hr,x[lr]))}}for(var zr=tr[cr],Qr=fr.length,Hr=zr;Hr<Qr;Hr++){var Jr=fr[Hr];ir[Hr]=Nr[Jr]}}return tr[R]=fr.length,wr}function M(b,y){var x=b._values,_=b._index,S=b._ptr,F=b._datatype,I=y._values,D=y._index,L=y._ptr,q=y._datatype,R=b._size[0],P=y._size[1],J=x&&I,V,H=i,j=t;F&&q&&F===q&&typeof F=="string"&&(V=F,H=e.find(i,[V,V]),j=e.find(t,[V,V]));for(var ir=J?[]:void 0,fr=[],tr=[],wr=b.createSparseMatrix({values:ir,index:fr,ptr:tr,size:[R,P],datatype:V}),Nr=J?[]:void 0,_r=[],cr,Br,pr,hr,qr,Mr,lr,xr,zr=0;zr<P;zr++){tr[zr]=fr.length;var Qr=zr+1;for(qr=L[zr],Mr=L[zr+1],hr=qr;hr<Mr;hr++)if(xr=D[hr],J)for(Br=S[xr],pr=S[xr+1],cr=Br;cr<pr;cr++)lr=_[cr],_r[lr]!==Qr?(_r[lr]=Qr,fr.push(lr),Nr[lr]=j(I[hr],x[cr])):Nr[lr]=H(Nr[lr],j(I[hr],x[cr]));else for(Br=S[xr],pr=S[xr+1],cr=Br;cr<pr;cr++)lr=_[cr],_r[lr]!==Qr&&(_r[lr]=Qr,fr.push(lr));if(J)for(var Hr=tr[zr],Jr=fr.length,jr=Hr;jr<Jr;jr++){var E=fr[jr];ir[jr]=Nr[E]}}return tr[P]=fr.length,wr}return e(Xn,Oa({"Array, Array":function(y,x){d(ce(y),ce(x));var _=this(n(y),n(x));return Tr(_)?_.valueOf():_},"Matrix, Matrix":function(y,x){var _=y.size(),S=x.size();return d(_,S),_.length===1?S.length===1?u(y,x,_[0]):o(y,x):S.length===1?c(y,x):l(y,x)},"Matrix, Array":function(y,x){return this(y,n(x))},"Array, Matrix":function(y,x){return this(n(y,x.storage()),x)},"SparseMatrix, any":function(y,x){return p(y,x,t,!1)},"DenseMatrix, any":function(y,x){return v(y,x,t,!1)},"any, SparseMatrix":function(y,x){return p(x,y,t,!0)},"any, DenseMatrix":function(y,x){return v(x,y,t,!0)},"Array, any":function(y,x){return v(n(y),x,t,!1).valueOf()},"any, Array":function(y,x){return v(n(x),y,t,!0).valueOf()},"any, any":t,"any, any, ...any":function(y,x,_){for(var S=this(y,x),F=0;F<_.length;F++)S=this(S,_[F]);return S}},t.signatures))}),yu="sqrt",bu=["config","typed","Complex"],Nu=nr(yu,bu,r=>{var{config:e,typed:n,Complex:i}=r;return n("sqrt",{number:t,Complex:function(h){return h.sqrt()},BigNumber:function(h){return!h.isNegative()||e.predictable?h.sqrt():t(h.toNumber())},"Array | Matrix":function(h){return se(h,this)},Unit:function(h){return h.pow(.5)}});function t(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new i(a,0).sqrt()}}),Gn="subtract",_u=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Mu=nr(Gn,_u,r=>{var{typed:e,matrix:n,equalScalar:i,addScalar:t,unaryMinus:a,DenseMatrix:h}=r,p=eu({typed:e}),v=cu({typed:e}),d=pu({typed:e,equalScalar:i}),u=iu({typed:e,DenseMatrix:h}),o=su({typed:e}),f=Vi({typed:e});return e(Gn,{"number, number":function(l,s){return l-s},"Complex, Complex":function(l,s){return l.sub(s)},"BigNumber, BigNumber":function(l,s){return l.minus(s)},"Fraction, Fraction":function(l,s){return l.sub(s)},"Unit, Unit":function(l,s){if(l.value===null)throw new Error("Parameter x contains a unit with undefined value");if(s.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!l.equalBase(s))throw new Error("Units do not match");var m=l.clone();return m.value=this(m.value,s.value),m.fixPrefix=!1,m},"SparseMatrix, SparseMatrix":function(l,s){return ht(l,s),d(l,s,this)},"SparseMatrix, DenseMatrix":function(l,s){return ht(l,s),v(s,l,this,!0)},"DenseMatrix, SparseMatrix":function(l,s){return ht(l,s),p(l,s,this,!1)},"DenseMatrix, DenseMatrix":function(l,s){return ht(l,s),o(l,s,this)},"Array, Array":function(l,s){return this(n(l),n(s)).valueOf()},"Array, Matrix":function(l,s){return this(n(l),s)},"Matrix, Array":function(l,s){return this(l,n(s))},"SparseMatrix, any":function(l,s){return u(l,a(s),t)},"DenseMatrix, any":function(l,s){return f(l,s,this)},"any, SparseMatrix":function(l,s){return u(s,l,this,!0)},"any, DenseMatrix":function(l,s){return f(s,l,this,!0)},"Array, any":function(l,s){return f(n(l),s,this,!1).valueOf()},"any, Array":function(l,s){return f(n(s),l,this,!0).valueOf()}})});function ht(r,e){var n=r.size(),i=e.size();if(n.length!==i.length)throw new yr(n.length,i.length)}var Qn="conj",Eu=["typed"],Su=nr(Qn,Eu,r=>{var{typed:e}=r;return e(Qn,{number:function(i){return i},BigNumber:function(i){return i},Complex:function(i){return i.conjugate()},"Array | Matrix":function(i){return se(i,this)}})});function Au(r){var e=0,n=1,i=Object.create(null),t=Object.create(null),a=0,h=function(v){var d=t[v];if(!!d&&(delete i[d],delete t[v],--e,n===d)){if(!e){a=0,n=1;return}for(;!hasOwnProperty.call(i,++n););}};return r=Math.abs(r),{hit:function(v){var d=t[v],u=++a;if(i[u]=v,t[v]=u,!d)return++e,e<=r?void 0:(v=i[n],h(v),v);if(delete i[d],n===d)for(;!hasOwnProperty.call(i,++n););},delete:h,clear:function(){e=a=0,n=1,i=Object.create(null),t=Object.create(null)}}}function Ct(r){var{hasher:e,limit:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=n==null?Number.POSITIVE_INFINITY:n,e=e==null?JSON.stringify:e,function i(){typeof i.cache!="object"&&(i.cache={values:new Map,lru:Au(n||Number.POSITIVE_INFINITY)});for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var h=e(t);if(i.cache.values.has(h))return i.cache.lru.hit(h),i.cache.values.get(h);var p=r.apply(r,t);return i.cache.values.set(h,p),i.cache.values.delete(i.cache.lru.hit(h)),p}}var Kn="identity",xu=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Cu=nr(Kn,xu,r=>{var{typed:e,config:n,matrix:i,BigNumber:t,DenseMatrix:a,SparseMatrix:h}=r;return e(Kn,{"":function(){return n.matrix==="Matrix"?i([]):[]},string:function(u){return i(u)},"number | BigNumber":function(u){return v(u,u,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(u,o){return v(u,u,o)},"number | BigNumber, number | BigNumber":function(u,o){return v(u,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,o,f){return v(u,o,f)},Array:function(u){return p(u)},"Array, string":function(u,o){return p(u,o)},Matrix:function(u){return p(u.valueOf(),u.storage())},"Matrix, string":function(u,o){return p(u.valueOf(),o)}});function p(d,u){switch(d.length){case 0:return u?i(u):[];case 1:return v(d[0],d[0],u);case 2:return v(d[0],d[1],u);default:throw new Error("Vector containing two values expected")}}function v(d,u,o){var f=Yr(d)||Yr(u)?t:null;if(Yr(d)&&(d=d.toNumber()),Yr(u)&&(u=u.toNumber()),!Or(d)||d<1)throw new Error("Parameters in function identity must be positive integers");if(!Or(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var c=f?new t(1):1,l=f?new f(0):0,s=[d,u];if(o){if(o==="sparse")return h.diagonal(s,c,0,l);if(o==="dense")return a.diagonal(s,c,0,l);throw new TypeError('Unknown matrix type "'.concat(o,'"'))}for(var m=Gt([],s,l),g=d<u?d:u,N=0;N<g;N++)m[N][N]=c;return m}});function Ou(){throw new Error('No "bignumber" implementation available')}function zu(){throw new Error('No "fraction" implementation available')}function Fu(){throw new Error('No "matrix" implementation available')}var jn="size",Iu=["typed","config","?matrix"],Pu=nr(jn,Iu,r=>{var{typed:e,config:n,matrix:i}=r;return e(jn,{Matrix:function(a){return a.create(a.size())},Array:ce,string:function(a){return n.matrix==="Array"?[a.length]:i([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return n.matrix==="Array"?[]:i?i([]):Fu()}})}),Bu="numeric",Du=["number","?bignumber","?fraction"],Tu=nr(Bu,Du,r=>{var{number:e,bignumber:n,fraction:i}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:h=>e(h),BigNumber:n?h=>n(h):Ou,Fraction:i?h=>i(h):zu};return function(p,v){var d=de(p);if(!(d in t))throw new TypeError("Cannot convert "+p+' of type "'+d+'"; valid input types are '+Object.keys(t).join(", "));if(!(v in a))throw new TypeError("Cannot convert "+p+' to type "'+v+'"; valid output types are '+Object.keys(a).join(", "));return v===d?p:a[v](p)}}),kn="divideScalar",qu=["typed","numeric"],Ru=nr(kn,qu,r=>{var{typed:e,numeric:n}=r;return e(kn,{"number, number":function(t,a){return t/a},"Complex, Complex":function(t,a){return t.div(a)},"BigNumber, BigNumber":function(t,a){return t.div(a)},"Fraction, Fraction":function(t,a){return t.div(a)},"Unit, number | Fraction | BigNumber":function(t,a){var h=t.clone(),p=n(1,de(a));return h.value=this(h.value===null?h._normalize(p):h.value,a),h},"number | Fraction | BigNumber, Unit":function(t,a){var h=a.clone();h=h.pow(-1);var p=n(1,de(t));return h.value=this(t,a.value===null?a._normalize(p):a.value),h},"Unit, Unit":function(t,a){return t.divide(a)}})}),ri="pow",Uu=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],$u=nr(ri,Uu,r=>{var{typed:e,config:n,identity:i,multiply:t,matrix:a,inv:h,number:p,fraction:v,Complex:d}=r;return e(ri,{"number, number":u,"Complex, Complex":function(l,s){return l.pow(s)},"BigNumber, BigNumber":function(l,s){return s.isInteger()||l>=0||n.predictable?l.pow(s):new d(l.toNumber(),0).pow(s.toNumber(),0)},"Fraction, Fraction":function(l,s){var m=l.pow(s);if(m!=null)return m;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(l.valueOf(),s.valueOf())},"Array, number":o,"Array, BigNumber":function(l,s){return o(l,s.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(l,s){return f(l,s.toNumber())},"Unit, number | BigNumber":function(l,s){return l.pow(s)}});function u(c,l){if(n.predictable&&!Or(l)&&c<0)try{var s=v(l),m=p(s);if((l===m||Math.abs((l-m)/l)<1e-14)&&s.d%2===1)return(s.n%2===0?1:-1)*Math.pow(-c,l)}catch{}return n.predictable&&(c<-1&&l===1/0||c>-1&&c<0&&l===-1/0)?NaN:Or(l)||c>=0||n.predictable?Li(c,l):c*c<1&&l===1/0||c*c>1&&l===-1/0?0:new d(c,0).pow(l,0)}function o(c,l){if(!Or(l))throw new TypeError("For A^b, b must be an integer (value is "+l+")");var s=ce(c);if(s.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");if(l<0)try{return o(h(c),-l)}catch(N){throw N.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+l+")"):N}for(var m=i(s[0]).valueOf(),g=c;l>=1;)(l&1)===1&&(m=t(g,m)),l>>=1,g=t(g,g);return m}function f(c,l){return a(o(c.valueOf(),l))}});Ct(function(r){return new r(1).exp()},{hasher:Ot});Ct(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:Ot});var Hi=Ct(function(r){return r.acos(-1)},{hasher:Ot});Ct(function(r){return Hi(r).times(2)},{hasher:Ot});function Ot(r){return r[0].precision}var ei="dot",Lu=["typed","addScalar","multiplyScalar","conj","size"],Zu=nr(ei,Lu,r=>{var{typed:e,addScalar:n,multiplyScalar:i,conj:t,size:a}=r;return e(ei,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":v});function h(u,o){var f=d(u),c=d(o),l,s;if(f.length===1)l=f[0];else if(f.length===2&&f[1]===1)l=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(c.length===1)s=c[0];else if(c.length===2&&c[1]===1)s=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(l!==s)throw new RangeError("Vectors must have equal length ("+l+" != "+s+")");if(l===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return l}function p(u,o){var f=h(u,o),c=Tr(u)?u._data:u,l=Tr(u)?u._datatype:void 0,s=Tr(o)?o._data:o,m=Tr(o)?o._datatype:void 0,g=d(u).length===2,N=d(o).length===2,w=n,M=i;if(l&&m&&l===m&&typeof l=="string"){var b=l;w=e.find(n,[b,b]),M=e.find(i,[b,b])}if(!g&&!N){for(var y=M(t(c[0]),s[0]),x=1;x<f;x++)y=w(y,M(t(c[x]),s[x]));return y}if(!g&&N){for(var _=M(t(c[0]),s[0][0]),S=1;S<f;S++)_=w(_,M(t(c[S]),s[S][0]));return _}if(g&&!N){for(var F=M(t(c[0][0]),s[0]),I=1;I<f;I++)F=w(F,M(t(c[I][0]),s[I]));return F}if(g&&N){for(var D=M(t(c[0][0]),s[0][0]),L=1;L<f;L++)D=w(D,M(t(c[L][0]),s[L][0]));return D}}function v(u,o){h(u,o);for(var f=u._index,c=u._values,l=o._index,s=o._values,m=0,g=n,N=i,w=0,M=0;w<f.length&&M<l.length;){var b=f[w],y=l[M];if(b<y){w++;continue}if(b>y){M++;continue}b===y&&(m=g(m,N(c[w],s[M])),w++,M++)}return m}function d(u){return Tr(u)?u.size():a(u)}}),ti="det",Vu=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],Hu=nr(ti,Vu,r=>{var{typed:e,matrix:n,subtract:i,multiply:t,divideScalar:a,isZero:h,unaryMinus:p}=r;return e(ti,{any:function(u){return Ir(u)},"Array | Matrix":function(u){var o;switch(Tr(u)?o=u.size():Array.isArray(u)?(u=n(u),o=u.size()):o=[],o.length){case 0:return Ir(u);case 1:if(o[0]===1)return Ir(u.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Pr(o)+")");case 2:{var f=o[0],c=o[1];if(f===c)return v(u.clone().valueOf(),f);throw new RangeError("Matrix must be square (size: "+Pr(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Pr(o)+")")}}});function v(d,u,o){if(u===1)return Ir(d[0][0]);if(u===2)return i(t(d[0][0],d[1][1]),t(d[1][0],d[0][1]));for(var f=!1,c=new Array(u).fill(0).map((x,_)=>_),l=0;l<u;l++){var s=c[l];if(h(d[s][l])){var m=void 0;for(m=l+1;m<u;m++)if(!h(d[c[m]][l])){s=c[m],c[m]=c[l],c[l]=s,f=!f;break}if(m===u)return d[s][l]}for(var g=d[s][l],N=l===0?1:d[c[l-1]][l-1],w=l+1;w<u;w++)for(var M=c[w],b=l+1;b<u;b++)d[M][b]=a(i(t(d[M][b],g),t(d[M][l],d[s][b])),N)}var y=d[c[u-1]][u-1];return f?p(y):y}}),ni="inv",Wu=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Yu=nr(ni,Wu,r=>{var{typed:e,matrix:n,divideScalar:i,addScalar:t,multiply:a,unaryMinus:h,det:p,identity:v,abs:d}=r;return e(ni,{"Array | Matrix":function(f){var c=Tr(f)?f.size():ce(f);switch(c.length){case 1:if(c[0]===1)return Tr(f)?n([i(1,f.valueOf()[0])]):[i(1,f[0])];throw new RangeError("Matrix must be square (size: "+Pr(c)+")");case 2:{var l=c[0],s=c[1];if(l===s)return Tr(f)?n(u(f.valueOf(),l,s),f.storage()):u(f,l,s);throw new RangeError("Matrix must be square (size: "+Pr(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Pr(c)+")")}},any:function(f){return i(1,f)}});function u(o,f,c){var l,s,m,g,N;if(f===1){if(g=o[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,g)]]}else if(f===2){var w=p(o);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(o[1][1],w),i(h(o[0][1]),w)],[i(h(o[1][0]),w),i(o[0][0],w)]]}else{var M=o.concat();for(l=0;l<f;l++)M[l]=M[l].concat();for(var b=v(f).valueOf(),y=0;y<c;y++){var x=d(M[y][y]),_=y;for(l=y+1;l<f;)d(M[l][y])>x&&(x=d(M[l][y]),_=l),l++;if(x===0)throw Error("Cannot calculate inverse, determinant is zero");l=_,l!==y&&(N=M[y],M[y]=M[l],M[l]=N,N=b[y],b[y]=b[l],b[l]=N);var S=M[y],F=b[y];for(l=0;l<f;l++){var I=M[l],D=b[l];if(l!==y){if(I[y]!==0){for(m=i(h(I[y]),S[y]),s=y;s<c;s++)I[s]=t(I[s],a(m,S[s]));for(s=0;s<c;s++)D[s]=t(D[s],a(m,F[s]))}}else{for(m=S[y],s=y;s<c;s++)I[s]=i(I[s],m);for(s=0;s<c;s++)D[s]=i(D[s],m)}}}return b}}}),Ju=Xu("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:n}=r;return e.number==="BigNumber"?Hi(n):ms});function Xu(r,e,n){return nr(r,e,n,{recreateOnConfigChange:!0})}var zt=ts({config:we}),Ft=as({}),Wi=us({}),fn=ls({}),It=vs({Matrix:fn}),Gu=Ju({BigNumber:zt,config:we}),Ar=io({BigNumber:zt,Complex:Ft,DenseMatrix:It,Fraction:Wi}),Qu=Ws({typed:Ar}),Pt=Js({typed:Ar}),Ku=Ps({BigNumber:zt,typed:Ar}),je=Ts({Complex:Ft,typed:Ar}),ju=Su({typed:Ar}),cn=_s({config:we,typed:Ar}),ku=ws({typed:Ar}),Yi=du({typed:Ar}),Ji=zs({typed:Ar}),Xi=Ss({Matrix:fn,equalScalar:cn,typed:Ar}),Nt=Nu({Complex:Ft,config:we,typed:Ar}),ln=Vs({typed:Ar}),Gi=Us({Fraction:Wi,typed:Ar}),Ee=Ls({DenseMatrix:It,Matrix:fn,SparseMatrix:Xi,typed:Ar}),rf=Tu({bignumber:Ku,fraction:Gi,number:Ji}),ef=Pu({matrix:Ee,config:we,typed:Ar}),tf=Mu({DenseMatrix:It,addScalar:Pt,equalScalar:cn,matrix:Ee,typed:Ar,unaryMinus:ln}),Qi=Ru({numeric:rf,typed:Ar}),nf=Zu({addScalar:Pt,conj:ju,multiplyScalar:Yi,size:ef,typed:Ar}),Ki=Cu({BigNumber:zt,DenseMatrix:It,SparseMatrix:Xi,config:we,matrix:Ee,typed:Ar}),hn=wu({addScalar:Pt,dot:nf,equalScalar:cn,matrix:Ee,multiplyScalar:Yi,typed:Ar}),af=Hu({divideScalar:Qi,isZero:ku,matrix:Ee,multiply:hn,subtract:tf,typed:Ar,unaryMinus:ln}),of=Yu({abs:Qu,addScalar:Pt,det:af,divideScalar:Qi,identity:Ki,matrix:Ee,multiply:hn,typed:Ar,unaryMinus:ln}),Yt=$u({Complex:Ft,config:we,fraction:Gi,identity:Ki,inv:of,matrix:Ee,multiply:hn,number:Ji,typed:Ar});function sf(r){let e,n,i,t,a,h,p,v,d,u,o,f,c,l,s,m,g,N,w,M,b,y,x,_,S,F,I,D,L,q,R,P,J,V,H,j,ir,fr,tr,wr,Nr,_r,cr,Br,pr,hr,qr,Mr,lr,xr,zr,Qr,Hr,Jr,jr,E,O,z,C,U,X,Q,W,$,k,Lr,Zr,Rr,be,Se,te,Ne=Nt(r[3]*6).toFixed(9)+"",Ae,xe,Ce,Oe,ne,ze,ie,Kr,ae,We,Fe,et=r[5]()+"",Ie,Pe,le,Ye,Be,he,Je,De,kr,Xe,tt=Gu.toFixed(10)+"",_e,vr,Fr,Ur,Bt,Ge=(r[0]*4).toFixed(10)+"",nt,it,Te,Dt,pe,at,qe,Tt,Re,qt,pn;return{c(){e=mr(),n=sr("br"),i=mr(),t=sr("div"),a=ar("**************************************************************************"),h=mr(),p=sr("div"),v=sr("br"),d=ar(`
	Approximating the Reiman Zeta Function in the M(x) Closure`),o=mr(),f=sr("br"),c=mr(),l=sr("p"),s=ar('This page continues to experiment with the  recursive closures (I sometimes call them "monads") defined in  '),m=sr("a"),g=ar("monads"),N=ar(" as:"),w=mr(),M=sr("pre"),b=ar(r[6]),y=mr(),x=sr("p"),_=ar("The closure used on this page is defined by "),S=sr("span"),F=ar(r[8]),I=ar("."),D=ar(' For this instance of the M(x) closure, m3 is "go" in the definition of "M" and the value of x starts out as 0.'),L=mr(),q=sr("br"),R=mr(),P=sr("span"),J=ar("This is the Riemann zeta function:"),V=mr(),H=sr("pre"),j=ar("        "),ir=sr("sub"),fr=ar("\u221E"),tr=ar(` 
 \u03B6(s) = \u2211 1/k**s 
        `),wr=sr("span"),Nr=ar("k=1"),_r=mr(),cr=sr("p"),Br=ar("Here are a couple of explanations:"),pr=sr("a"),hr=ar("the Riemann zeta function"),qr=ar(" .  For a more detailed explanation, see "),Mr=sr("a"),lr=ar("Wikipedia: Riemann Zeta Function"),xr=mr(),zr=sr("p"),Qr=ar("The default demonstration (below) approximates \u03B6(2) = \u03C0/6 with 100,000 1/k**2 terms. You can change this, perhaps lowing it for a a cell phone or raising it for a desktop computer. 100,000,000 terms is about as far as I can comfortably go on my desktop computer.  Much beyond that it hangs too long or crashes."),Hr=mr(),Jr=sr("p"),jr=ar('"s" can be any complex number in the Riemann zeta function, but right now, only real numbers are computed on this page. Here are some ideas for some values of s: '),E=sr("a"),O=ar("Particular values of the Riemann zeta function"),z=mr(),C=sr("p"),U=ar('"AA" and "BB" are the numbers in the left and right boxes (respectively) below. Clicking "Compute" runs:'),X=mr(),Q=sr("pre"),W=ar(r[7]),$=mr(),k=sr("p"),Lr=ar(`fu() takes three arguments but fu() with only its "a" and "b" parameters specified is provided to m3. The "c" value in fu's definition is named "x" in the m3 closure. fu(a)(b)(x) changes the value of x in preparation for another recursion or for m3ret. Ater "stop", m3 still holds its most recent value and can resume recursive computations at any time.`),Zr=mr(),Rr=sr("p"),be=ar("This is the actual value of  \u03C0 is 3.141592653..."),Se=mr(),te=sr("span"),Ae=ar(Ne),xe=mr(),Ce=sr("br"),Oe=mr(),ne=sr("input"),ze=mr(),ie=sr("input"),Kr=mr(),ae=sr("button"),We=ar("Compute"),Fe=mr(),Ie=ar(et),Pe=mr(),le=sr("p"),Ye=ar("Here's an efficient way to approximate \u03C0/4:"),Be=mr(),he=sr("pre"),Je=ar(r[9]),De=mr(),kr=sr("p"),Xe=ar("The actual value of  \u03C0 is "),_e=ar(tt),vr=ar("..."),Fr=mr(),Ur=sr("h4"),Bt=ar("qq * 4  = "),nt=ar(Ge),it=mr(),Te=sr("span"),Dt=ar("Enter a number here -->  "),pe=sr("input"),at=mr(),qe=sr("p"),Tt=ar("I entered ten billion on my desktop computer and  got 3.1415926534. That's accurate up to the end where the 4 should be 6."),this.h()},l(A){ea('[data-svelte="svelte-16yi4fc"]',document.head).forEach(T),e=dr(A),n=ur(A,"BR",{}),i=dr(A),t=ur(A,"DIV",{});var vn=gr(t);a=or(vn,"**************************************************************************"),vn.forEach(T),h=dr(A),p=ur(A,"DIV",{style:!0});var Rt=gr(p);v=ur(Rt,"BR",{}),d=or(Rt,`
	Approximating the Reiman Zeta Function in the M(x) Closure`),Rt.forEach(T),o=dr(A),f=ur(A,"BR",{}),c=dr(A),l=ur(A,"P",{});var ot=gr(l);s=or(ot,'This page continues to experiment with the  recursive closures (I sometimes call them "monads") defined in  '),m=ur(ot,"A",{href:!0});var mn=gr(m);g=or(mn,"monads"),mn.forEach(T),N=or(ot," as:"),ot.forEach(T),w=dr(A),M=ur(A,"PRE",{});var dn=gr(M);b=or(dn,r[6]),dn.forEach(T),y=dr(A),x=ur(A,"P",{});var st=gr(x);_=or(st,"The closure used on this page is defined by "),S=ur(st,"SPAN",{style:!0});var Ut=gr(S);F=or(Ut,r[8]),I=or(Ut,"."),Ut.forEach(T),D=or(st,' For this instance of the M(x) closure, m3 is "go" in the definition of "M" and the value of x starts out as 0.'),st.forEach(T),L=dr(A),q=ur(A,"BR",{}),R=dr(A),P=ur(A,"SPAN",{style:!0});var gn=gr(P);J=or(gn,"This is the Riemann zeta function:"),gn.forEach(T),V=dr(A),H=ur(A,"PRE",{});var Qe=gr(H);j=or(Qe,"        "),ir=ur(Qe,"SUB",{style:!0});var wn=gr(ir);fr=or(wn,"\u221E"),wn.forEach(T),tr=or(Qe,` 
 \u03B6(s) = \u2211 1/k**s 
        `),wr=ur(Qe,"SPAN",{style:!0});var yn=gr(wr);Nr=or(yn,"k=1"),yn.forEach(T),Qe.forEach(T),_r=dr(A),cr=ur(A,"P",{});var Ke=gr(cr);Br=or(Ke,"Here are a couple of explanations:"),pr=ur(Ke,"A",{href:!0});var bn=gr(pr);hr=or(bn,"the Riemann zeta function"),bn.forEach(T),qr=or(Ke," .  For a more detailed explanation, see "),Mr=ur(Ke,"A",{href:!0});var Nn=gr(Mr);lr=or(Nn,"Wikipedia: Riemann Zeta Function"),Nn.forEach(T),Ke.forEach(T),xr=dr(A),zr=ur(A,"P",{});var _n=gr(zr);Qr=or(_n,"The default demonstration (below) approximates \u03B6(2) = \u03C0/6 with 100,000 1/k**2 terms. You can change this, perhaps lowing it for a a cell phone or raising it for a desktop computer. 100,000,000 terms is about as far as I can comfortably go on my desktop computer.  Much beyond that it hangs too long or crashes."),_n.forEach(T),Hr=dr(A),Jr=ur(A,"P",{});var $t=gr(Jr);jr=or($t,'"s" can be any complex number in the Riemann zeta function, but right now, only real numbers are computed on this page. Here are some ideas for some values of s: '),E=ur($t,"A",{href:!0});var Mn=gr(E);O=or(Mn,"Particular values of the Riemann zeta function"),Mn.forEach(T),$t.forEach(T),z=dr(A),C=ur(A,"P",{});var En=gr(C);U=or(En,'"AA" and "BB" are the numbers in the left and right boxes (respectively) below. Clicking "Compute" runs:'),En.forEach(T),X=dr(A),Q=ur(A,"PRE",{});var Sn=gr(Q);W=or(Sn,r[7]),Sn.forEach(T),$=dr(A),k=ur(A,"P",{});var An=gr(k);Lr=or(An,`fu() takes three arguments but fu() with only its "a" and "b" parameters specified is provided to m3. The "c" value in fu's definition is named "x" in the m3 closure. fu(a)(b)(x) changes the value of x in preparation for another recursion or for m3ret. Ater "stop", m3 still holds its most recent value and can resume recursive computations at any time.`),An.forEach(T),Zr=dr(A),Rr=ur(A,"P",{style:!0});var xn=gr(Rr);be=or(xn,"This is the actual value of  \u03C0 is 3.141592653..."),xn.forEach(T),Se=dr(A),te=ur(A,"SPAN",{style:!0});var Cn=gr(te);Ae=or(Cn,Ne),Cn.forEach(T),xe=dr(A),Ce=ur(A,"BR",{}),Oe=dr(A),ne=ur(A,"INPUT",{}),ze=dr(A),ie=ur(A,"INPUT",{}),Kr=dr(A),ae=ur(A,"BUTTON",{id:!0});var On=gr(ae);We=or(On,"Compute"),On.forEach(T),Fe=dr(A),Ie=or(A,et),Pe=dr(A),le=ur(A,"P",{});var zn=gr(le);Ye=or(zn,"Here's an efficient way to approximate \u03C0/4:"),zn.forEach(T),Be=dr(A),he=ur(A,"PRE",{});var Fn=gr(he);Je=or(Fn,r[9]),Fn.forEach(T),De=dr(A),kr=ur(A,"P",{style:!0});var ut=gr(kr);Xe=or(ut,"The actual value of  \u03C0 is "),_e=or(ut,tt),vr=or(ut,"..."),ut.forEach(T),Fr=dr(A),Ur=ur(A,"H4",{});var Lt=gr(Ur);Bt=or(Lt,"qq * 4  = "),nt=or(Lt,Ge),Lt.forEach(T),it=dr(A),Te=ur(A,"SPAN",{});var In=gr(Te);Dt=or(In,"Enter a number here -->  "),In.forEach(T),pe=ur(A,"INPUT",{id:!0,type:!0,style:!0}),at=dr(A),qe=ur(A,"P",{});var Pn=gr(qe);Tt=or(Pn,"I entered ten billion on my desktop computer and  got 3.1415926534. That's accurate up to the end where the 4 should be 6."),Pn.forEach(T),this.h()},h(){document.title="Approximating the Reiman zeta function",Wr(p,"font-family","Times New Roman"),Wr(p,"text-align","center"),Wr(p,"font-size","32px"),Me(m,"href","monads"),Wr(S,"color","#44ffff"),Wr(S,"font-size","25px"),Wr(S,"text-emphasis","bold"),Wr(S,"text-indent","4%"),Wr(P,"text-indent","23px"),Wr(ir,"font-size","20px"),Wr(wr,"font-size","14px"),Me(pr,"href","https://www.britannica.com/science/Riemann-zeta-function"),Me(Mr,"href","https://en.wikipedia.org/wiki/Riemann_zeta_function"),Me(E,"href","https://en.wikipedia.org/wiki/Particular_values_of_the_Riemann_zeta_function"),Wr(Rr,"font-size","28px"),Wr(te,"color","gold"),Wr(te,"font-size","32px"),Me(ae,"id","compute"),Wr(kr,"font-size","28px"),Me(pe,"id","fun"),Me(pe,"type","number"),Wr(pe,"width","130px")},m(A,Z){Y(A,e,Z),Y(A,n,Z),Y(A,i,Z),Y(A,t,Z),er(t,a),Y(A,h,Z),Y(A,p,Z),er(p,v),er(p,d),Y(A,o,Z),Y(A,f,Z),Y(A,c,Z),Y(A,l,Z),er(l,s),er(l,m),er(m,g),er(l,N),Y(A,w,Z),Y(A,M,Z),er(M,b),Y(A,y,Z),Y(A,x,Z),er(x,_),er(x,S),er(S,F),er(S,I),er(x,D),Y(A,L,Z),Y(A,q,Z),Y(A,R,Z),Y(A,P,Z),er(P,J),Y(A,V,Z),Y(A,H,Z),er(H,j),er(H,ir),er(ir,fr),er(H,tr),er(H,wr),er(wr,Nr),Y(A,_r,Z),Y(A,cr,Z),er(cr,Br),er(cr,pr),er(pr,hr),er(cr,qr),er(cr,Mr),er(Mr,lr),Y(A,xr,Z),Y(A,zr,Z),er(zr,Qr),Y(A,Hr,Z),Y(A,Jr,Z),er(Jr,jr),er(Jr,E),er(E,O),Y(A,z,Z),Y(A,C,Z),er(C,U),Y(A,X,Z),Y(A,Q,Z),er(Q,W),Y(A,$,Z),Y(A,k,Z),er(k,Lr),Y(A,Zr,Z),Y(A,Rr,Z),er(Rr,be),Y(A,Se,Z),Y(A,te,Z),er(te,Ae),Y(A,xe,Z),Y(A,Ce,Z),Y(A,Oe,Z),Y(A,ne,Z),ft(ne,r[1]),Y(A,ze,Z),Y(A,ie,Z),ft(ie,r[2]),Y(A,Kr,Z),Y(A,ae,Z),er(ae,We),Y(A,Fe,Z),Y(A,Ie,Z),Y(A,Pe,Z),Y(A,le,Z),er(le,Ye),Y(A,Be,Z),Y(A,he,Z),er(he,Je),Y(A,De,Z),Y(A,kr,Z),er(kr,Xe),er(kr,_e),er(kr,vr),Y(A,Fr,Z),Y(A,Ur,Z),er(Ur,Bt),er(Ur,nt),Y(A,it,Z),Y(A,Te,Z),er(Te,Dt),Y(A,pe,Z),Y(A,at,Z),Y(A,qe,Z),er(qe,Tt),Re=!0,qt||(pn=[ct(ne,"input",r[10]),ct(ie,"input",r[11]),ct(ae,"click",r[5]),ct(pe,"keydown",r[4])],qt=!0)},p(A,[Z]){(!Re||Z&8)&&Ne!==(Ne=Nt(A[3]*6).toFixed(9)+"")&&Bn(Ae,Ne),Z&2&&ne.value!==A[1]&&ft(ne,A[1]),Z&4&&ie.value!==A[2]&&ft(ie,A[2]),(!Re||Z&1)&&Ge!==(Ge=(A[0]*4).toFixed(10)+"")&&Bn(nt,Ge)},i(A){Re||(ta(()=>{u||(u=Dn(p,Tn,{},!0)),u.run(1)}),Re=!0)},o(A){u||(u=Dn(p,Tn,{},!1)),u.run(0),Re=!1},d(A){A&&T(e),A&&T(n),A&&T(i),A&&T(t),A&&T(h),A&&T(p),A&&u&&u.end(),A&&T(o),A&&T(f),A&&T(c),A&&T(l),A&&T(w),A&&T(M),A&&T(y),A&&T(x),A&&T(L),A&&T(q),A&&T(R),A&&T(P),A&&T(V),A&&T(H),A&&T(_r),A&&T(cr),A&&T(xr),A&&T(zr),A&&T(Hr),A&&T(Jr),A&&T(z),A&&T(C),A&&T(X),A&&T(Q),A&&T($),A&&T(k),A&&T(Zr),A&&T(Rr),A&&T(Se),A&&T(te),A&&T(xe),A&&T(Ce),A&&T(Oe),A&&T(ne),A&&T(ze),A&&T(ie),A&&T(Kr),A&&T(ae),A&&T(Fe),A&&T(Ie),A&&T(Pe),A&&T(le),A&&T(Be),A&&T(he),A&&T(De),A&&T(kr),A&&T(Fr),A&&T(Ur),A&&T(it),A&&T(Te),A&&T(pe),A&&T(at),A&&T(qe),qt=!1,na(pn)}}}var uf="stop";function ii(r){return function e(n){if(typeof n=="function")return r=n(r),e;if(n==="stop")return r}}function ff(r,e,n){console.log("pow(icomplex(2,5)",Yt(2,5)),console.log("pow(complex(2, 2))",Yt(je(2,2))),console.log("pow(complex(0, 2))",Yt(je(0,2))),Nt(je(16,-4)),console.log("sqrt(complex(16,-4",Nt(je(16,-4)));const i=ii(0);var t=null;const a=w=>M=>{for(let b=1;b<w;b+=4)M=M+1/b-1/(b+2);return M};function h(w){if(w.keyCode==13)return i(M=>0),i(a(w.target.value*1)),n(0,t=m4ret),console.log("qq and m4(s) are",t,m4ret),t}var p,v,d=w=>M=>b=>{for(let y=1;y<w;y+=1)b=b+(1/y)**M;return b};const u=function(){return o(M=>0),o(d(p*1)(v*1)),n(3,f=m3ret),f};var o=ii(0),f;o(d(1e6));var c=`function M (x) {
  return function go (func) {
      if (typeof func === "function") {
          x = func(x);   // New x for the next recursion. 
          return go;
      }
      else if (func === "stop") return x;   
    }
}`,l=`const reset = function reset() {
        m3 (v => 0);     // Re-sets x in M to 0. 
        m3(fu(AA * 1)(BB*1));  
        q = m3ret;
        return q;    // The extra line of code helps assure reactivity   
    }`;const s="m3 = M(0)",m=`const fun = a => b => {
        for (let k = 1; k < a; k+=4) {
            b = b + 1/k - 1/(k+2);
    }
    return b;
}`;function g(){p=this.value,n(1,p)}function N(){v=this.value,n(2,v)}return n(1,p=1e5),n(2,v=je(16,-4)),n(3,f=o(uf)),[t,p,v,f,h,u,c,l,s,m,g,N]}class pf extends ji{constructor(e){super(),ki(this,e,ff,sf,ra,{})}}export{pf as default};
