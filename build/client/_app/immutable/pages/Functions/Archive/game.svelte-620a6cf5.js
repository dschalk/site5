import{S as Co,i as Ho,s as Uo,l as f,r as _,a as b,m as n,n as v,u as a,h as l,c,p as E,q as k,b as s,G as m,Q as g,v as R,M as Po,N as zo,T as Ao}from"../../../chunks/index-cac77216.js";import{f as No}from"../../../chunks/index-54fd7bcd.js";/* empty css                                                           */function Wo(i){let w,u,h,M,ve,ce,ye,I,x,B,X,S,$,Z,z,Me,U,ke,ee,N,D,r,le,Ue,P,G,we,J,O,Re,j,oe,Pe,he,se,Ae,Ie,te,Se,Ee,q,C,ze,ie,We,Ne,fe,Ye,Oe,ne,t,H,re,Yl,Te,Le=i[16](p)+"",Ze,De,ue,Ll,Ge,me,Xl,Je,pe,Zl,je,_e,Dl,qe,Fe,Qe,Ve,Ke,A,de,ge,W,xe,$e,Y,el,ll,L,ol,sl,tl,il,fl,ae,Gl,nl,rl,ul,ml,F,pl,_l,Q,al,bl,V,vl,cl,K,yl,Ml,T,kl,Jl,wl,jl,El,ql,Tl,Fl,Bl,Rl,hl,Il,Sl,zl,Nl,Ol,Cl,Hl,Ul,Pl,Ce,Ql,Al,He,Vl,y,Kl,gl;return{c(){w=f("h1"),u=_("_______________________________________________________________"),h=b(),M=f("div"),ve=_(`The Game of Score Server
`),ce=f("br"),ye=b(),I=f("span"),x=_("Using a JavaScript Ersatz Monad"),X=b(),S=f("a"),$=_("Link"),Z=b(),z=f("p"),Me=_('This page will demonstrate the use of recursive explicit closures spawned by a function M defined below. I sometimes call these closures "monads" partly because, like Haskell monads, they facilitate composing functions on encapsulated values. More about this is at '),U=f("a"),ke=_("Home"),ee=b(),N=f("p"),D=_('I wrote "explicit" because all functions are closures, as explained in '),r=f("a"),le=_("CLOSURES"),Ue=_(`. By the way, the word "ersatz" in the caption is there for critics who complain these aren't Category Theory monads. Some of these critics will be surprised to learn that Haskell monads aren't Catagory Theory monads either.`),P=b(),G=f("h2"),we=_("The Project"),J=b(),O=f("p"),Re=_(`I'm going to construct an interactive simulated dice game my son taght me. It's called "Score". I wrote an elaborate version of the game of Score around eight years ago, using a Haskell WebSockets server to manage multiple clients and interacting groups of clients, compute all of the possible solutiong to each roll of the dice unless no solution existed, and more. It also featured a shared todo list for each group along with a group chat application. It isn't up and running right now, although I do revive it from time to time.`),j=b(),oe=f("p"),Pe=_("This version will be much simpler. I'll begin by defining a simple monad constructor named M."),he=b(),se=f("pre"),Ae=_(i[27]),Ie=b(),te=f("span"),Se=_("Here's how it works:"),Ee=b(),q=f("pre"),C=_(i[24]),ze=b(),ie=f("p"),We=_("Now I'll test M with an array these functions:"),Ne=b(),fe=f("pre"),Ye=_(i[25]),Oe=b(),ne=f("p"),t=_(`First, I'll use M to define a monad named "mon" by calling "var mon = M([1,2,3,4])". You'll see the return value of "mon3('stop')" dislayed, "[1,2,3,4]". mon(g)('stop') returns "[64,1,2,3]", as seen by clicking "mon3(g)". I call "mon(g)" twice more, causing "[8,27,64,1]" to be displayed. That's the value stored in mon3 and returned by mon3('stop'), and is the array that was expected.`),H=b(),re=f("p"),Yl=_(`After clicking "Re-set mon3", mon(g)(g(g)(g)(g3)) returns [1,2,3,4]. You can verify this by clicking "mon3(g)" four times and "mon3(g3)" once. If you click "mon3(g2)" three times and then "mon3(g3)" three times, mon3('stop') is displayed and is "[2,3,4,5]", as expected. Check it out below:"
`),Te=f("h1"),Ze=_(Le),De=b(),ue=f("button"),Ll=_("mon3(g)"),Ge=b(),me=f("button"),Xl=_("mon3(g2)"),Je=b(),pe=f("button"),Zl=_("mon3(g3)"),je=b(),_e=f("button"),Dl=_("Reset mon3"),qe=b(),Fe=f("br"),Qe=f("br"),Ve=f("br"),Ke=b(),A=f("button"),de=_(i[0]),ge=b(),W=f("button"),xe=_(i[1]),$e=b(),Y=f("button"),el=_(i[2]),ll=b(),L=f("button"),ol=_(i[3]),sl=b(),tl=f("br"),il=f("br"),fl=b(),ae=f("button"),Gl=_("ROLL"),nl=b(),rl=f("br"),ul=f("br"),ml=b(),F=f("button"),pl=_(i[12]),_l=b(),Q=f("button"),al=_(i[13]),bl=b(),V=f("button"),vl=_(i[14]),cl=b(),K=f("button"),yl=_(i[15]),Ml=b(),T=f("h1"),kl=_(i[12]),Jl=_(" ** "),wl=_(i[13]),jl=_(" ** "),El=_(i[14]),ql=_(" ** "),Tl=_(i[15]),Fl=_(" **"),Bl=b(),Rl=f("br"),hl=f("br"),Il=f("br"),Sl=f("br"),zl=f("br"),Nl=f("br"),Ol=f("br"),Cl=f("br"),Hl=f("br"),Ul=f("br"),Pl=b(),Ce=f("p"),Ql=_("Here's the HTML code for the first demo:"),Al=b(),He=f("pre"),Vl=_(i[26]),this.h()},l(e){w=n(e,"H1",{class:!0});var o=v(w);u=a(o,"_______________________________________________________________"),o.forEach(l),h=c(e),M=n(e,"DIV",{style:!0});var Xe=v(M);ve=a(Xe,`The Game of Score Server
`),ce=n(Xe,"BR",{}),ye=c(Xe),I=n(Xe,"SPAN",{style:!0});var xl=v(I);x=a(xl,"Using a JavaScript Ersatz Monad"),xl.forEach(l),Xe.forEach(l),X=c(e),S=n(e,"A",{href:!0});var $l=v(S);$=a($l,"Link"),$l.forEach(l),Z=c(e),z=n(e,"P",{});var dl=v(z);Me=a(dl,'This page will demonstrate the use of recursive explicit closures spawned by a function M defined below. I sometimes call these closures "monads" partly because, like Haskell monads, they facilitate composing functions on encapsulated values. More about this is at '),U=n(dl,"A",{href:!0});var eo=v(U);ke=a(eo,"Home"),eo.forEach(l),dl.forEach(l),ee=c(e),N=n(e,"P",{});var Wl=v(N);D=a(Wl,'I wrote "explicit" because all functions are closures, as explained in '),r=n(Wl,"A",{href:!0});var lo=v(r);le=a(lo,"CLOSURES"),lo.forEach(l),Ue=a(Wl,`. By the way, the word "ersatz" in the caption is there for critics who complain these aren't Category Theory monads. Some of these critics will be surprised to learn that Haskell monads aren't Catagory Theory monads either.`),Wl.forEach(l),P=c(e),G=n(e,"H2",{});var oo=v(G);we=a(oo,"The Project"),oo.forEach(l),J=c(e),O=n(e,"P",{});var so=v(O);Re=a(so,`I'm going to construct an interactive simulated dice game my son taght me. It's called "Score". I wrote an elaborate version of the game of Score around eight years ago, using a Haskell WebSockets server to manage multiple clients and interacting groups of clients, compute all of the possible solutiong to each roll of the dice unless no solution existed, and more. It also featured a shared todo list for each group along with a group chat application. It isn't up and running right now, although I do revive it from time to time.`),so.forEach(l),j=c(e),oe=n(e,"P",{});var to=v(oe);Pe=a(to,"This version will be much simpler. I'll begin by defining a simple monad constructor named M."),to.forEach(l),he=c(e),se=n(e,"PRE",{});var io=v(se);Ae=a(io,i[27]),io.forEach(l),Ie=c(e),te=n(e,"SPAN",{});var fo=v(te);Se=a(fo,"Here's how it works:"),fo.forEach(l),Ee=c(e),q=n(e,"PRE",{});var no=v(q);C=a(no,i[24]),no.forEach(l),ze=c(e),ie=n(e,"P",{});var ro=v(ie);We=a(ro,"Now I'll test M with an array these functions:"),ro.forEach(l),Ne=c(e),fe=n(e,"PRE",{});var uo=v(fe);Ye=a(uo,i[25]),uo.forEach(l),Oe=c(e),ne=n(e,"P",{});var mo=v(ne);t=a(mo,`First, I'll use M to define a monad named "mon" by calling "var mon = M([1,2,3,4])". You'll see the return value of "mon3('stop')" dislayed, "[1,2,3,4]". mon(g)('stop') returns "[64,1,2,3]", as seen by clicking "mon3(g)". I call "mon(g)" twice more, causing "[8,27,64,1]" to be displayed. That's the value stored in mon3 and returned by mon3('stop'), and is the array that was expected.`),mo.forEach(l),H=c(e),re=n(e,"P",{});var po=v(re);Yl=a(po,`After clicking "Re-set mon3", mon(g)(g(g)(g)(g3)) returns [1,2,3,4]. You can verify this by clicking "mon3(g)" four times and "mon3(g3)" once. If you click "mon3(g2)" three times and then "mon3(g3)" three times, mon3('stop') is displayed and is "[2,3,4,5]", as expected. Check it out below:"
`),po.forEach(l),Te=n(e,"H1",{class:!0});var _o=v(Te);Ze=a(_o,Le),_o.forEach(l),De=c(e),ue=n(e,"BUTTON",{class:!0});var ao=v(ue);Ll=a(ao,"mon3(g)"),ao.forEach(l),Ge=c(e),me=n(e,"BUTTON",{class:!0});var bo=v(me);Xl=a(bo,"mon3(g2)"),bo.forEach(l),Je=c(e),pe=n(e,"BUTTON",{class:!0});var vo=v(pe);Zl=a(vo,"mon3(g3)"),vo.forEach(l),je=c(e),_e=n(e,"BUTTON",{class:!0});var co=v(_e);Dl=a(co,"Reset mon3"),co.forEach(l),qe=c(e),Fe=n(e,"BR",{}),Qe=n(e,"BR",{}),Ve=n(e,"BR",{}),Ke=c(e),A=n(e,"BUTTON",{style:!0,class:!0});var yo=v(A);de=a(yo,i[0]),yo.forEach(l),ge=c(e),W=n(e,"BUTTON",{style:!0,class:!0});var Mo=v(W);xe=a(Mo,i[1]),Mo.forEach(l),$e=c(e),Y=n(e,"BUTTON",{style:!0,class:!0});var ko=v(Y);el=a(ko,i[2]),ko.forEach(l),ll=c(e),L=n(e,"BUTTON",{style:!0,class:!0});var wo=v(L);ol=a(wo,i[3]),wo.forEach(l),sl=c(e),tl=n(e,"BR",{}),il=n(e,"BR",{}),fl=c(e),ae=n(e,"BUTTON",{class:!0});var Eo=v(ae);Gl=a(Eo,"ROLL"),Eo.forEach(l),nl=c(e),rl=n(e,"BR",{}),ul=n(e,"BR",{}),ml=c(e),F=n(e,"BUTTON",{style:!0,class:!0});var To=v(F);pl=a(To,i[12]),To.forEach(l),_l=c(e),Q=n(e,"BUTTON",{style:!0,class:!0});var Bo=v(Q);al=a(Bo,i[13]),Bo.forEach(l),bl=c(e),V=n(e,"BUTTON",{style:!0,class:!0});var Ro=v(V);vl=a(Ro,i[14]),Ro.forEach(l),cl=c(e),K=n(e,"BUTTON",{style:!0,class:!0});var ho=v(K);yl=a(ho,i[15]),ho.forEach(l),Ml=c(e),T=n(e,"H1",{class:!0});var d=v(T);kl=a(d,i[12]),Jl=a(d," ** "),wl=a(d,i[13]),jl=a(d," ** "),El=a(d,i[14]),ql=a(d," ** "),Tl=a(d,i[15]),Fl=a(d," **"),d.forEach(l),Bl=c(e),Rl=n(e,"BR",{}),hl=n(e,"BR",{}),Il=n(e,"BR",{}),Sl=n(e,"BR",{}),zl=n(e,"BR",{}),Nl=n(e,"BR",{}),Ol=n(e,"BR",{}),Cl=n(e,"BR",{}),Hl=n(e,"BR",{}),Ul=n(e,"BR",{}),Pl=c(e),Ce=n(e,"P",{});var Io=v(Ce);Ql=a(Io,"Here's the HTML code for the first demo:"),Io.forEach(l),Al=c(e),He=n(e,"PRE",{});var So=v(He);Vl=a(So,i[26]),So.forEach(l),this.h()},h(){E(w,"class","svelte-1pzbx45"),k(I,"font-style","italic"),k(I,"font-size","34px"),k(M,"font-family","Times New Roman"),k(M,"text-align","center"),k(M,"font-size","38px"),E(S,"href","https://www.random.org/integers/?num=1&min=1&max=6&col=1&base=10&format=plain&rnd=new"),E(U,"href","../Monads/"),E(r,"href","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures"),E(Te,"class","svelte-1pzbx45"),E(ue,"class","svelte-1pzbx45"),E(me,"class","svelte-1pzbx45"),E(pe,"class","svelte-1pzbx45"),E(_e,"class","svelte-1pzbx45"),k(A,"display",i[4]),E(A,"class","svelte-1pzbx45"),k(W,"display",i[5]),E(W,"class","svelte-1pzbx45"),k(Y,"display",i[6]),E(Y,"class","svelte-1pzbx45"),k(L,"display",i[7]),E(L,"class","svelte-1pzbx45"),E(ae,"class","svelte-1pzbx45"),k(F,"display",i[8]),E(F,"class","svelte-1pzbx45"),k(Q,"display",i[9]),E(Q,"class","svelte-1pzbx45"),k(V,"display",i[10]),E(V,"class","svelte-1pzbx45"),k(K,"display",i[11]),E(K,"class","svelte-1pzbx45"),E(T,"class","svelte-1pzbx45")},m(e,o){s(e,w,o),m(w,u),s(e,h,o),s(e,M,o),m(M,ve),m(M,ce),m(M,ye),m(M,I),m(I,x),s(e,X,o),s(e,S,o),m(S,$),s(e,Z,o),s(e,z,o),m(z,Me),m(z,U),m(U,ke),s(e,ee,o),s(e,N,o),m(N,D),m(N,r),m(r,le),m(N,Ue),s(e,P,o),s(e,G,o),m(G,we),s(e,J,o),s(e,O,o),m(O,Re),s(e,j,o),s(e,oe,o),m(oe,Pe),s(e,he,o),s(e,se,o),m(se,Ae),s(e,Ie,o),s(e,te,o),m(te,Se),s(e,Ee,o),s(e,q,o),m(q,C),s(e,ze,o),s(e,ie,o),m(ie,We),s(e,Ne,o),s(e,fe,o),m(fe,Ye),s(e,Oe,o),s(e,ne,o),m(ne,t),s(e,H,o),s(e,re,o),m(re,Yl),s(e,Te,o),m(Te,Ze),s(e,De,o),s(e,ue,o),m(ue,Ll),s(e,Ge,o),s(e,me,o),m(me,Xl),s(e,Je,o),s(e,pe,o),m(pe,Zl),s(e,je,o),s(e,_e,o),m(_e,Dl),s(e,qe,o),s(e,Fe,o),s(e,Qe,o),s(e,Ve,o),s(e,Ke,o),s(e,A,o),m(A,de),s(e,ge,o),s(e,W,o),m(W,xe),s(e,$e,o),s(e,Y,o),m(Y,el),s(e,ll,o),s(e,L,o),m(L,ol),s(e,sl,o),s(e,tl,o),s(e,il,o),s(e,fl,o),s(e,ae,o),m(ae,Gl),s(e,nl,o),s(e,rl,o),s(e,ul,o),s(e,ml,o),s(e,F,o),m(F,pl),s(e,_l,o),s(e,Q,o),m(Q,al),s(e,bl,o),s(e,V,o),m(V,vl),s(e,cl,o),s(e,K,o),m(K,yl),s(e,Ml,o),s(e,T,o),m(T,kl),m(T,Jl),m(T,wl),m(T,jl),m(T,El),m(T,ql),m(T,Tl),m(T,Fl),s(e,Bl,o),s(e,Rl,o),s(e,hl,o),s(e,Il,o),s(e,Sl,o),s(e,zl,o),s(e,Nl,o),s(e,Ol,o),s(e,Cl,o),s(e,Hl,o),s(e,Ul,o),s(e,Pl,o),s(e,Ce,o),m(Ce,Ql),s(e,Al,o),s(e,He,o),m(He,Vl),y=!0,Kl||(gl=[g(ue,"click",i[28]),g(me,"click",i[29]),g(pe,"click",i[30]),g(_e,"click",i[31]),g(A,"click",i[20]),g(W,"click",i[21]),g(Y,"click",i[22]),g(L,"click",i[23]),g(ae,"click",i[17])],Kl=!0)},p(e,o){(!y||o[0]&65536)&&Le!==(Le=e[16](p)+"")&&R(Ze,Le),(!y||o[0]&1)&&R(de,e[0]),(!y||o[0]&16)&&k(A,"display",e[4]),(!y||o[0]&2)&&R(xe,e[1]),(!y||o[0]&32)&&k(W,"display",e[5]),(!y||o[0]&4)&&R(el,e[2]),(!y||o[0]&64)&&k(Y,"display",e[6]),(!y||o[0]&8)&&R(ol,e[3]),(!y||o[0]&128)&&k(L,"display",e[7]),(!y||o[0]&4096)&&R(pl,e[12]),(!y||o[0]&256)&&k(F,"display",e[8]),(!y||o[0]&8192)&&R(al,e[13]),(!y||o[0]&512)&&k(Q,"display",e[9]),(!y||o[0]&16384)&&R(vl,e[14]),(!y||o[0]&1024)&&k(V,"display",e[10]),(!y||o[0]&32768)&&R(yl,e[15]),(!y||o[0]&2048)&&k(K,"display",e[11]),(!y||o[0]&4096)&&R(kl,e[12]),(!y||o[0]&8192)&&R(wl,e[13]),(!y||o[0]&16384)&&R(El,e[14]),(!y||o[0]&32768)&&R(Tl,e[15])},i(e){y||(Po(()=>{B||(B=zo(M,No,{},!0)),B.run(1)}),y=!0)},o(e){B||(B=zo(M,No,{},!1)),B.run(0),y=!1},d(e){e&&l(w),e&&l(h),e&&l(M),e&&B&&B.end(),e&&l(X),e&&l(S),e&&l(Z),e&&l(z),e&&l(ee),e&&l(N),e&&l(P),e&&l(G),e&&l(J),e&&l(O),e&&l(j),e&&l(oe),e&&l(he),e&&l(se),e&&l(Ie),e&&l(te),e&&l(Ee),e&&l(q),e&&l(ze),e&&l(ie),e&&l(Ne),e&&l(fe),e&&l(Oe),e&&l(ne),e&&l(H),e&&l(re),e&&l(Te),e&&l(De),e&&l(ue),e&&l(Ge),e&&l(me),e&&l(Je),e&&l(pe),e&&l(je),e&&l(_e),e&&l(qe),e&&l(Fe),e&&l(Qe),e&&l(Ve),e&&l(Ke),e&&l(A),e&&l(ge),e&&l(W),e&&l($e),e&&l(Y),e&&l(ll),e&&l(L),e&&l(sl),e&&l(tl),e&&l(il),e&&l(fl),e&&l(ae),e&&l(nl),e&&l(rl),e&&l(ul),e&&l(ml),e&&l(F),e&&l(_l),e&&l(Q),e&&l(bl),e&&l(V),e&&l(cl),e&&l(K),e&&l(Ml),e&&l(T),e&&l(Bl),e&&l(Rl),e&&l(hl),e&&l(Il),e&&l(Sl),e&&l(zl),e&&l(Nl),e&&l(Ol),e&&l(Cl),e&&l(Hl),e&&l(Ul),e&&l(Pl),e&&l(Ce),e&&l(Al),e&&l(He),Kl=!1,Ao(gl)}}}var p="stop";function Be(i){return JSON.parse(JSON.stringify(i))}function be(i){return function w(u){if(typeof u=="function")return i=u(i),w;if(u==="stop")return i}}function Oo(i,w,u){var h=parseInt(i,10),M=parseInt(w,10);if(u==="+")return h+M;if(u==="*")return h*M;if(u==="-")return h-M;if(u==="/")return h/M;if(u==="concat")return parseInt(""+h+M,10)}function Yo(i){var w=i.pop()**3;return i.unshift(w),i}function Lo(i){return i.flatMap(w=>(w+1)**3)}function Xo(i){return i.flatMap(w=>Math.round(w**(1/3)))}function Zo(i,w,u){var h,S,$,Z,z,M="inline",ve="inline",ce="inline",ye="inline",I="inline",x="inline",B="inline",X="inline",S,$,Z,z,Me,U,ke,ee,N,D,r,le=t=>t.map(H=>H.filter(re=>re!==void 0)),Ue=t=>t.filter(H=>H!==void 0);function P(t){return u(12,Me=t[1][0]),u(13,U=t[1][1]),u(14,ke=t[1][2]),u(15,ee=t[1][3]),N=[Me,U,ke,ee],D=Ue(N),console.log("<><><><><><><><><><>>>>--> ZYXW and WXYZ are",N,D),D}r=be([[1,2],[3,4],[]]),console.log("m2(s) and WXYZ before updateB() is",D),r(P),G(r),console.log("m2(s) and WXYZ after updateB() is",Be(r(p)),D);function G(t){console.log("In updateC. monad(s) is",t(p)),t(p)[1][0]?u(8,I="inline"):u(8,I="none"),t(p)[1][1]?u(9,x="inline"):u(9,x="none"),t(p)[1][2]?u(10,B="inline"):u(10,B="none"),t(p)[1][3]?u(11,X="inline"):u(11,X="none")}console.log("m2(s) before updateC(m2(s)",Be(r(p))),G(r),console.log("m2(s) after updateC(m2)G",Be(r(p)));var Ee=t=>[[Math.floor(Math.random()*6)+1,Math.floor(Math.random()*6)+1,Math.floor(Math.random()*12)+1,Math.floor(Math.random()*20)+1],[],[]];function we(){r(Ee),u(0,S=r(p)[0][0]),u(1,$=r(p)[0][1]),u(2,Z=r(p)[0][2]),u(3,z=r(p)[0][3]),u(4,M=u(5,ve=u(6,ce=u(7,ye="inline"))))}we(),console.log("<><><><><><><><><><><><><><><><><><><>"),console.log("calc(3,4,'+')",Oo(3,4,"+"));var J=be([1,2,3,4]);function O(t){u(16,J=J(t))}function Re(){u(16,J=be([1,2,3,4]))}function j(t){u(0,S=t(p)[0][0]?t(p)[0][0]:u(4,M="none")),u(1,$=t(p)[0][1]?t(p)[0][1]:u(5,ve="none")),u(2,Z=t(p)[0][2]?t(p)[0][2]:u(6,ce="none")),u(3,z=t(p)[0][3]?t(p)[0][3]:u(7,ye="none")),t(p)[1][0]?t(p)[1][0]:u(8,I="none"),t(p)[1][1]?t(p)[1][1]:u(9,x="none"),t(p)[1][2]?t(p)[1][2]:u(10,B="none"),t(p)[1][3]?t(p)[1][3]:u(11,X="none")}var oe=t=>(t[1].push(t[0].splice(0,1)[0]),console.log("m2(s)[0]",r(p)[0]),console.log("m2(s)[1]",r(p)[1]),j(r),r(P),t=t,t),Pe=t=>(t[1].push(t[0].splice(1,1)[0]),console.log("m2(s)[0]",r(p)[0]),console.log("m2(s)[1]",r(p)[1]),j(r),r(P),t=t,t),he=t=>(t[1].push(t[0].splice(2,1)[0]),console.log("m2(s)[0]",r(p)[0]),console.log("m2(s)[1]",r(p)[1]),j(r),r(P),t=t,t),se=t=>(t[1].push(t[0].splice(3,1)[0]),console.log("m2(s)[0]",r(p)[0]),console.log("m2(s)[1]",r(p)[1]),j(r),r(P),t=t,t);function Ae(){r(oe),r(le),console.log("m2(s) is",r(p))}function Ie(){r(Pe),r(le),console.log("m2(s) is",r(p))}function te(){r(he),r(le),console.log("m2(s) is",r(p))}function Se(){r(se),r(le),console.log("m2(s) is",r(p))}var Ee=t=>[[Math.floor(Math.random()*6)+1,Math.floor(Math.random()*6)+1,Math.floor(Math.random()*12)+1,Math.floor(Math.random()*20)+1],[],[]],q=t=>{var H;return t[1].length===3&&(t[0].push(t[2].pop()),t[2][0]&&t[1].length===2&&(Be(t),H=Oo(t[1][0],t[1][1],t[2][0])),H==20&&t[0].length<2&&h(we),Be(t),t[0].push(),t[1]=t[2]=[]),t},C=be([[3,4],[5,6],["concat"]]);console.log("m4(s) before m4(fu)",Be(C(p))),C(q),console.log("m4(s) after m4(fu)",C(p)),C=be([[3,4],[5,6],[]]),console.log("m4(s) before m4(fu)",Be(C(p))),C(q),console.log("m4(s) after m4(fu)",C(p));var ze=`var someMonad = M(3)
someMonad(v=>v**3);
someMonad('stop');  // 27
someMonad(v=>v+15)('stop');  // 42 .. Now let's go back to 42 the hard way:
someMonad(v=>v/7)(v=>v+2)(v=>v*v)(v=>v**(1/6))(v=>v*21)('stop'); // 42 `,ie=`function g(ar) {
  var x = (ar.pop())**3;
  ar.unshift(x);
  return ar;
};
function g2 (ar) {return (ar.flatMap(v => (v+1)**3))};
function g3 (ar) {return (ar.flatMap(v => Math.round(v**(1/3))))};`,We=`var mon3 = M([1,2,3,4]);
<h1>{mon3(s)}</h1>
<button on:click={() => fmon3(g)}>mon3(g)</button>
<button on:click={() => fmon3(g2)}>mon3(g2)</button>
<button on:click={() => fmon3(g3)}>mon3(g3)</button>
<button on:click={fmon3Reset}>Re-set mon3</button>
WHERE fmon3 and fmon3Reset are:
function fmon3 (f) {mon3 = mon3(f)}; // Updates the DOM
function fmon3Reset () {mon3 = M([1,2,3,4])}`,Ne=`function M (x) {
  return function go (func) {
      if (typeof func === "function") {
          x = func(x);
          return go;
      }
      else if (func === "stop") return x;
  }
}; `;r=be([[0,0,0,0],[],[]]),Se();const fe=()=>O(Yo),Ye=()=>O(Lo),Oe=()=>O(Xo),ne=()=>Re();return r=be([[3,6,9,12],[],[]]),r=be([[1,3],[5,17],[]]),[S,$,Z,z,M,ve,ce,ye,I,x,B,X,Me,U,ke,ee,J,we,O,Re,Ae,Ie,te,Se,ze,ie,We,Ne,fe,Ye,Oe,ne]}class jo extends Co{constructor(w){super(),Ho(this,w,Zo,Wo,Uo,{},null,[-1,-1,-1])}}export{jo as default};
